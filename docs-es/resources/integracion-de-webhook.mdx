---
id: integracion-de-webhook
title: Integración de Webhook
description: Guía para configurar webhooks para recibir eventos de Verifik
slug: /recursos/integracion-de-webhook
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Integración de Webhook

Aquí tienes una documentación concisa para configurar un webhook usando Node.js que puede usarse para recibir eventos de Verifik. Esto incluye instrucciones paso a paso sobre cómo el usuario puede configurar su webhook para recibir eventos.

***

### Guía de Configuración de Webhook

Esta guía explica cómo configurar un webhook simple usando Node.js. Puedes usar este webhook para recibir eventos de Verifik en tiempo real.

#### 1. Prerrequisitos

Antes de comenzar, asegúrate de tener:

* **Node.js** instalado en tu sistema.
* **npm** (Node Package Manager) instalado (generalmente viene con Node.js).

#### 2. Instalar Paquetes Requeridos

Para comenzar, inicializa un proyecto Node.js e instala las dependencias necesarias.

```bash
mkdir webhook-example
cd webhook-example
npm init -y
npm install express body-parser
```

* **express**: Un framework web para Node.js para manejar solicitudes HTTP.
* **body-parser**: Middleware para analizar cuerpos de solicitudes entrantes (especialmente JSON).

#### 3. Crear el Servidor Webhook

Crea un archivo llamado `webhook.js` y agrega el siguiente código:

```javascript
const express = require('express');
const bodyParser = require('body-parser');

const app = express();
const PORT = 3000;

// Middleware para analizar solicitudes JSON
app.use(bodyParser.json());

// Endpoint para recibir eventos de webhook
app.post('/webhook', (req, res) => {
  const event = req.body;

  // Registrar el evento recibido
  console.log('Evento recibido:', event);

  // Responder con un mensaje de éxito
  res.status(200).send('Webhook recibido exitosamente');
});

// Iniciar el servidor
app.listen(PORT, () => {
  console.log(`El servidor webhook está ejecutándose en el puerto ${PORT}`);
});
```

#### 4. Ejecutar el Servidor Webhook

Para iniciar el servidor webhook, ejecuta el siguiente comando:

```bash
node webhook.js
```

Tu servidor webhook estará ejecutándose localmente en `http://localhost:3000/webhook`.

#### 5. Exponer tu Servidor Webhook

Si quieres que Verifik envíe eventos a tu webhook, necesitas exponerlo a internet. Esto se puede hacer usando herramientas como **ngrok**. Instala ngrok si no lo tienes ya:

```bash
npm install -g ngrok
```

Luego, expón tu servidor local:

```bash
ngrok http 3000
```

Recibirás una URL pública, como `https://<random-id>.ngrok.io`, que puede ser usada por Verifik para enviar eventos de webhook.

#### 6. Configurar URL de Webhook con Verifik

Una vez que tu webhook sea públicamente accesible, puedes proporcionar la URL a Verifik. Aquí te explicamos cómo configurar tu webhook:

1. **Establecer tu URL de Webhook**: Proporciona la URL pública de ngrok al equipo de integración de Verifik.
   * Ejemplo: `https://<random-id>.ngrok.io/webhook`
2. **Suscripción de Eventos**: Indica qué eventos te gustaría recibir de Verifik (ej., registro de usuario, transacción completada).

#### 7. Probar Webhooks

Puedes probar tu webhook localmente enviando una solicitud `POST` usando una herramienta como `curl` o Postman.

Ejemplo con `curl`:

```bash
curl -X POST http://localhost:3000/webhook -H "Content-Type: application/json" -d '{"event":"user_signup", "data": {"user_id": "12345"}}'
```

Esto debería imprimir el evento en tu consola y devolver un mensaje de éxito.

#### 8. Consideraciones de Seguridad

* **Verificación de Firma**: Para uso en producción, es importante verificar la firma de las solicitudes de webhook entrantes para asegurar que provienen de Verifik. Esto se puede hacer usando secretos compartidos o claves API, que Verifik proporcionará.
* **HTTPS**: Asegúrate de que tu URL de webhook use HTTPS cuando esté en producción.

#### Conclusión

Ahora has configurado un webhook básico en Node.js que puede recibir eventos de **Verifik**. Puedes usar este webhook para una variedad de propósitos como escuchar registros de usuarios, transacciones u otros eventos en tiempo real.

***

Háznoslo saber si necesitas detalles adicionales de nuestra parte y estaremos felices de ayudar.

### Ahora estamos listos para crear el objeto webhook en Verifik

[Crear un Webhook](/recursos/webhooks/crear-un-webhook)
