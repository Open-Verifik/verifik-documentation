"use strict";(globalThis.webpackChunkverifik_documentation=globalThis.webpackChunkverifik_documentation||[]).push([[36326],{19686(e,o,r){r.r(o),r.d(o,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"resources/webhooks/integracion-webhook","title":"Integraci\xf3n de Webhooks","description":"Gu\xeda para configurar webhooks para recibir eventos desde Verifik","source":"@site/docs-es/resources/webhooks/integracion-webhook.mdx","sourceDirName":"resources/webhooks","slug":"/resources/integracion-webhook","permalink":"/verifik-es/resources/integracion-webhook","draft":false,"unlisted":false,"editUrl":"https://github.com/Open-Verifik/verifik-documentation/tree/main/docs-es/resources/webhooks/integracion-webhook.mdx","tags":[],"version":"current","frontMatter":{"id":"integracion-webhook","title":"Integraci\xf3n de Webhooks","description":"Gu\xeda para configurar webhooks para recibir eventos desde Verifik","slug":"/resources/integracion-webhook"},"sidebar":"tutorialSidebar","previous":{"title":"Webhooks","permalink":"/verifik-es/resources/webhooks"},"next":{"title":"El Objeto Webhook","permalink":"/verifik-es/resources/webhooks/el-objeto-de-webhook"}}');var s=r(74848),i=r(28453);const a={id:"integracion-webhook",title:"Integraci\xf3n de Webhooks",description:"Gu\xeda para configurar webhooks para recibir eventos desde Verifik",slug:"/resources/integracion-webhook"},d=void 0,c={},l=[{value:"Descripci\xf3n",id:"descripci\xf3n",level:3},{value:"Gu\xeda de Configuraci\xf3n de Webhooks",id:"gu\xeda-de-configuraci\xf3n-de-webhooks",level:3},{value:"1. Prerrequisitos",id:"1-prerrequisitos",level:4},{value:"2. Instalar Paquetes Requeridos",id:"2-instalar-paquetes-requeridos",level:4},{value:"3. Crear el Servidor de Webhook",id:"3-crear-el-servidor-de-webhook",level:4},{value:"4. Ejecutar el Servidor de Webhook",id:"4-ejecutar-el-servidor-de-webhook",level:4},{value:"5. Exponer tu Servidor de Webhook",id:"5-exponer-tu-servidor-de-webhook",level:4},{value:"6. Configurar la URL del Webhook con Verifik",id:"6-configurar-la-url-del-webhook-con-verifik",level:4},{value:"7. Prueba de Webhooks",id:"7-prueba-de-webhooks",level:4},{value:"8. Consideraciones de Seguridad",id:"8-consideraciones-de-seguridad",level:4},{value:"Conclusi\xf3n",id:"conclusi\xf3n",level:4},{value:"Ahora estamos listos para crear el objeto webhook en Verifik",id:"ahora-estamos-listos-para-crear-el-objeto-webhook-en-verifik",level:3}];function t(e){const o={a:"a",code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h3,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,s.jsx)(o.p,{children:"Esta gu\xeda explica c\xf3mo configurar un webhook simple usando Node.js para recibir eventos desde Verifik en tiempo real."}),"\n",(0,s.jsx)(o.h3,{id:"gu\xeda-de-configuraci\xf3n-de-webhooks",children:"Gu\xeda de Configuraci\xf3n de Webhooks"}),"\n",(0,s.jsx)(o.h4,{id:"1-prerrequisitos",children:"1. Prerrequisitos"}),"\n",(0,s.jsx)(o.p,{children:"Antes de comenzar, aseg\xfarate de tener:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Node.js"})," instalado en tu sistema."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"npm"})," (Node Package Manager) instalado (generalmente viene con Node.js)."]}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"2-instalar-paquetes-requeridos",children:"2. Instalar Paquetes Requeridos"}),"\n",(0,s.jsx)(o.p,{children:"Para comenzar, inicializa un proyecto de Node.js e instala las dependencias necesarias."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"mkdir webhook-example\ncd webhook-example\nnpm init -y\nnpm install express body-parser\n"})}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"express"}),": Un framework web para Node.js para manejar solicitudes HTTP."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"body-parser"}),": Middleware para analizar cuerpos de solicitudes entrantes (especialmente JSON)."]}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"3-crear-el-servidor-de-webhook",children:"3. Crear el Servidor de Webhook"}),"\n",(0,s.jsxs)(o.p,{children:["Crea un archivo llamado ",(0,s.jsx)(o.code,{children:"webhook.js"})," y agrega el siguiente c\xf3digo:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-javascript",children:"const express = require('express');\nconst bodyParser = require('body-parser');\n\nconst app = express();\nconst PORT = 3000;\n\n// Middleware to parse JSON requests\napp.use(bodyParser.json());\n\n// Endpoint to receive webhook events\napp.post('/webhook', (req, res) => {\n  const event = req.body;\n\n  // Log the received event\n  console.log('Received event:', event);\n\n  // Respond with a success message\n  res.status(200).send('Webhook received successfully');\n});\n\n// Start the server\napp.listen(PORT, () => {\n  console.log(`Webhook server is running on port ${PORT}`);\n});\n"})}),"\n",(0,s.jsx)(o.h4,{id:"4-ejecutar-el-servidor-de-webhook",children:"4. Ejecutar el Servidor de Webhook"}),"\n",(0,s.jsx)(o.p,{children:"Para iniciar el servidor de webhook, ejecuta el siguiente comando:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"node webhook.js\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Tu servidor de webhook estar\xe1 ejecut\xe1ndose localmente en ",(0,s.jsx)(o.code,{children:"http://localhost:3000/webhook"}),"."]}),"\n",(0,s.jsx)(o.h4,{id:"5-exponer-tu-servidor-de-webhook",children:"5. Exponer tu Servidor de Webhook"}),"\n",(0,s.jsxs)(o.p,{children:["Si quieres que Verifik env\xede eventos a tu webhook, necesitas exponerlo a internet. Esto se puede hacer usando herramientas como ",(0,s.jsx)(o.strong,{children:"ngrok"}),". Instala ngrok si a\xfan no lo has hecho:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"npm install -g ngrok\n"})}),"\n",(0,s.jsx)(o.p,{children:"Luego, expone tu servidor local:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"ngrok http 3000\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Recibir\xe1s una URL p\xfablica, como ",(0,s.jsx)(o.code,{children:"https://<random-id>.ngrok.io"}),", que puede ser usada por Verifik para enviar eventos de webhook."]}),"\n",(0,s.jsx)(o.h4,{id:"6-configurar-la-url-del-webhook-con-verifik",children:"6. Configurar la URL del Webhook con Verifik"}),"\n",(0,s.jsx)(o.p,{children:"Una vez que tu webhook est\xe9 p\xfablicamente accesible, puedes proporcionar la URL a Verifik. As\xed es c\xf3mo configurar tu webhook:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Establece tu URL de Webhook"}),": Proporciona la URL p\xfablica de ngrok al equipo de integraci\xf3n de Verifik.","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Ejemplo: ",(0,s.jsx)(o.code,{children:"https://<random-id>.ngrok.io/webhook"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Suscripci\xf3n de Eventos"}),": Indica qu\xe9 eventos te gustar\xeda recibir de Verifik (p. ej., registro de usuario, transacci\xf3n completada)."]}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"7-prueba-de-webhooks",children:"7. Prueba de Webhooks"}),"\n",(0,s.jsxs)(o.p,{children:["Puedes probar tu webhook localmente enviando una solicitud ",(0,s.jsx)(o.code,{children:"POST"})," usando una herramienta como ",(0,s.jsx)(o.code,{children:"curl"})," o Postman."]}),"\n",(0,s.jsxs)(o.p,{children:["Ejemplo con ",(0,s.jsx)(o.code,{children:"curl"}),":"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:'curl -X POST http://localhost:3000/webhook -H "Content-Type: application/json" -d \'{"event":"user_signup", "data": {"user_id": "12345"}}\'\n'})}),"\n",(0,s.jsx)(o.p,{children:"Esto deber\xeda imprimir el evento en tu consola y devolver un mensaje de \xe9xito."}),"\n",(0,s.jsx)(o.h4,{id:"8-consideraciones-de-seguridad",children:"8. Consideraciones de Seguridad"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Verificaci\xf3n de Firma"}),": Para uso en producci\xf3n, es importante verificar la firma de las solicitudes de webhook entrantes para asegurar que provienen de Verifik. Esto se puede hacer usando secretos compartidos o claves API, que Verifik proporcionar\xe1."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"HTTPS"}),": Aseg\xfarate de que tu URL de webhook use HTTPS cuando est\xe9 en producci\xf3n."]}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"conclusi\xf3n",children:"Conclusi\xf3n"}),"\n",(0,s.jsxs)(o.p,{children:["Ahora has configurado un webhook b\xe1sico en Node.js que puede recibir eventos desde ",(0,s.jsx)(o.strong,{children:"Verifik"}),". Puedes usar este webhook para diversos prop\xf3sitos como escuchar registros de usuarios, transacciones u otros eventos en tiempo real."]}),"\n",(0,s.jsx)(o.hr,{}),"\n",(0,s.jsx)(o.p,{children:"D\xe9janos saber si necesitas detalles adicionales de nuestra parte y estaremos felices de ayudar."}),"\n",(0,s.jsx)(o.h3,{id:"ahora-estamos-listos-para-crear-el-objeto-webhook-en-verifik",children:"Ahora estamos listos para crear el objeto webhook en Verifik"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.a,{href:"/verifik-es/resources/webhooks/crear-un-webhook",children:"Crear un Webhook"})})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},28453(e,o,r){r.d(o,{R:()=>a,x:()=>d});var n=r(96540);const s={},i=n.createContext(s);function a(e){const o=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:o},e.children)}}}]);