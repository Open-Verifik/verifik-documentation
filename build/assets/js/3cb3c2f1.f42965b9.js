"use strict";(globalThis.webpackChunkverifik_documentation=globalThis.webpackChunkverifik_documentation||[]).push([[51780],{11470(e,n,s){s.d(n,{A:()=>w});var t=s(96540),r=s(34164),i=s(17559),l=s(23104),a=s(56347),o=s(205),c=s(57485),d=s(31682),u=s(70679);function h(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:s}=e;return(0,t.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:s,default:t}})=>({value:e,label:n,attributes:s,default:t}))}(s);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function x({value:e,tabValues:n}){return n.some(n=>n.value===e)}function j({queryString:e=!1,groupId:n}){const s=(0,a.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(r),(0,t.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})},[r,s])]}function m(e){const{defaultValue:n,queryString:s=!1,groupId:r}=e,i=p(e),[l,a]=(0,t.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:i})),[c,d]=j({queryString:s,groupId:r}),[h,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,r]=(0,u.Dv)(n);return[s,(0,t.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),f=(()=>{const e=c??h;return x({value:e,tabValues:i})?e:null})();(0,o.A)(()=>{f&&a(f)},[f]);return{selectedValue:l,selectValue:(0,t.useCallback)(e=>{if(!x({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);a(e),d(e),m(e)},[d,m,i]),tabValues:i}}var f=s(92303);const _="tabList__CuJ",g="tabItem_LNqP";var b=s(74848);function v({className:e,block:n,selectedValue:s,selectValue:t,tabValues:i}){const a=[],{blockElementScrollPositionUntilNextRender:o}=(0,l.a_)(),c=e=>{const n=e.currentTarget,r=a.indexOf(n),l=i[r].value;l!==s&&(o(n),t(l))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=a.indexOf(e.currentTarget)+1;n=a[s]??a[0];break}case"ArrowLeft":{const s=a.indexOf(e.currentTarget)-1;n=a[s]??a[a.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:i.map(({value:e,label:n,attributes:t})=>(0,b.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{a.push(e)},onKeyDown:d,onClick:c,...t,className:(0,r.A)("tabs__item",g,t?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:s}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===s);return e?(0,t.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:i.map((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function T(e){const n=m(e);return(0,b.jsxs)("div",{className:(0,r.A)(i.G.tabs.container,"tabs-container",_),children:[(0,b.jsx)(v,{...n,...e}),(0,b.jsx)(y,{...n,...e})]})}function w(e){const n=(0,f.A)();return(0,b.jsx)(T,{...e,children:h(e.children)},String(n))}},19365(e,n,s){s.d(n,{A:()=>l});s(96540);var t=s(34164);const r="tabItem_Ymn6";var i=s(74848);function l({children:e,hidden:n,className:s}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,t.A)(r,s),hidden:n,children:e})}},28453(e,n,s){s.d(n,{R:()=>l,x:()=>a});var t=s(96540);const r={},i=t.createContext(r);function l(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(i.Provider,{value:n},e.children)}},98867(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"api/licenses/delete-license","title":"Delete License","description":"Delete an existing license from the system.","source":"@site/docs/api/licenses/delete-license.md","sourceDirName":"api/licenses","slug":"/api/licenses/delete-license","permalink":"/api/licenses/delete-license","draft":false,"unlisted":false,"editUrl":"https://github.com/Open-Verifik/verifik-documentation/tree/main/docs/api/licenses/delete-license.md","tags":[],"version":"current","frontMatter":{}}');var r=s(74848),i=s(28453),l=s(11470),a=s(19365);const o={},c="Delete License",d={},u=[{value:"Endpoint",id:"endpoint",level:2},{value:"Description",id:"description",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Response",id:"response",level:2},{value:"Response Fields",id:"response-fields",level:3},{value:"Examples",id:"examples",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"delete-license",children:"Delete License"})}),"\n",(0,r.jsx)(n.p,{children:"Delete an existing license from the system."}),"\n",(0,r.jsx)(n.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"DELETE /api/licenses/{licenseId}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsx)(n.p,{children:"This endpoint allows administrators or authorized users to delete an existing license from the system. This action will permanently remove the license and revoke all associated permissions and features for the user. This operation is irreversible and should be used with caution."}),"\n",(0,r.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsxs)(n.p,{children:["This endpoint requires authentication via JWT token with administrative privileges. You must first create a session using the ",(0,r.jsx)(n.code,{children:"/api/sessions"})," endpoint to obtain a JWT token."]}),"\n",(0,r.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"licenseId"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"ID of the license to delete (path parameter)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"reason"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Reason for license deletion (for audit purposes)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"notifyUser"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Whether to notify the user about license deletion (default: true)"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"response",children:"Response"}),"\n","\n",(0,r.jsxs)(l.A,{children:[(0,r.jsx)(a.A,{value:"200",label:"200 OK",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "message": "License deleted successfully",\n    "licenseId": "license_id_example",\n    "userId": "user_id_example",\n    "deletedAt": "2025-01-15T10:30:00Z",\n    "reason": "User requested cancellation"\n  }\n}\n'})})}),(0,r.jsx)(a.A,{value:"404",label:"404 Not Found",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "license_not_found",\n  "message": "License with the specified ID does not exist"\n}\n'})})}),(0,r.jsx)(a.A,{value:"400",label:"400 Bad Request",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "validation_error",\n  "message": "Invalid request parameters"\n}\n'})})}),(0,r.jsx)(a.A,{value:"401",label:"401 Unauthorized",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Protected resource, use Authorization header to get access"\n}\n'})})}),(0,r.jsx)(a.A,{value:"403",label:"403 Forbidden",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "insufficient_permissions",\n  "message": "Administrative privileges required"\n}\n'})})}),(0,r.jsx)(a.A,{value:"409",label:"409 Conflict",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "license_in_use",\n  "message": "Cannot delete license that is currently in use"\n}\n'})})}),(0,r.jsx)(a.A,{value:"500",label:"500 Internal Server Error",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "error": "internal_error",\n  "message": "An unexpected error occurred"\n}\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"response-fields",children:"Response Fields"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"message"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Success message confirming license deletion"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"licenseId"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"ID of the deleted license"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"userId"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"ID of the user whose license was deleted"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"deletedAt"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"ISO timestamp when license was deleted"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"reason"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Reason provided for license deletion"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsxs)(l.A,{children:[(0,r.jsx)(a.A,{value:"curl",label:"cURL",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# First, create a session to get JWT token\ncurl -X POST "https://api.zelf.world/api/sessions" \\\n  -H "Content-Type: application/json" \\\n  -H "Origin: https://test.example.com" \\\n  -d \'{\n    "identifier": "test_session_123",\n    "type": "createWallet",\n    "isWebExtension": false\n  }\'\n\n# Then delete a license\ncurl -X DELETE "https://api.zelf.world/api/licenses/license_123?reason=User%20requested%20cancellation&notifyUser=true" \\\n  -H "Content-Type: application/json" \\\n  -H "Origin: https://test.example.com" \\\n  -H "Authorization: Bearer YOUR_JWT_TOKEN_HERE"\n'})})}),(0,r.jsx)(a.A,{value:"nodejs",label:"Node.js",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const axios = require('axios');\n\nasync function deleteLicense() {\n  try {\n    // First, create a session\n    const sessionResponse = await axios.post('https://api.zelf.world/api/sessions', {\n      identifier: 'test_session_123',\n      type: 'createWallet',\n      isWebExtension: false\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Origin': 'https://test.example.com'\n      }\n    });\n\n    const token = sessionResponse.data.data.token;\n\n    // Then delete a license\n    const licenseResponse = await axios.delete('https://api.zelf.world/api/licenses/license_123', {\n      params: {\n        reason: 'User requested cancellation',\n        notifyUser: true\n      },\n      headers: {\n        'Content-Type': 'application/json',\n        'Origin': 'https://test.example.com',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n\n    console.log('License deleted:', licenseResponse.data);\n  } catch (error) {\n    console.error('Error:', error.response?.data || error.message);\n  }\n}\n\ndeleteLicense();\n"})})}),(0,r.jsx)(a.A,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import requests\n\ndef delete_license():\n    # First, create a session\n    session_url = "https://api.zelf.world/api/sessions"\n    session_data = {\n        "identifier": "test_session_123",\n        "type": "createWallet",\n        "isWebExtension": False\n    }\n    session_headers = {\n        "Content-Type": "application/json",\n        "Origin": "https://test.example.com"\n    }\n    \n    session_response = requests.post(session_url, json=session_data, headers=session_headers)\n    token = session_response.json()["data"]["token"]\n    \n    # Then delete a license\n    license_url = "https://api.zelf.world/api/licenses/license_123"\n    params = {\n        "reason": "User requested cancellation",\n        "notifyUser": True\n    }\n    license_headers = {\n        "Content-Type": "application/json",\n        "Origin": "https://test.example.com",\n        "Authorization": f"Bearer {token}"\n    }\n    \n    license_response = requests.delete(license_url, params=params, headers=license_headers)\n    print("License deleted:", license_response.json())\n\nif __name__ == "__main__":\n    delete_license()\n'})})}),(0,r.jsx)(a.A,{value:"php",label:"PHP",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"<?php\nfunction deleteLicense() {\n    // First, create a session\n    $sessionUrl = 'https://api.zelf.world/api/sessions';\n    $sessionData = [\n        'identifier' => 'test_session_123',\n        'type' => 'createWallet',\n        'isWebExtension' => false\n    ];\n    \n    $sessionOptions = [\n        'http' => [\n            'header' => \"Content-Type: application/json\\r\\nOrigin: https://test.example.com\\r\\n\",\n            'method' => 'POST',\n            'content' => json_encode($sessionData)\n        ]\n    ];\n    \n    $sessionContext = stream_context_create($sessionOptions);\n    $sessionResponse = file_get_contents($sessionUrl, false, $sessionContext);\n    $sessionResult = json_decode($sessionResponse, true);\n    $token = $sessionResult['data']['token'];\n    \n    // Then delete a license\n    $licenseUrl = 'https://api.zelf.world/api/licenses/license_123?' . http_build_query([\n        'reason' => 'User requested cancellation',\n        'notifyUser' => true\n    ]);\n    \n    $licenseOptions = [\n        'http' => [\n            'header' => \"Content-Type: application/json\\r\\nOrigin: https://test.example.com\\r\\nAuthorization: Bearer $token\\r\\n\",\n            'method' => 'DELETE'\n        ]\n    ];\n    \n    $licenseContext = stream_context_create($licenseOptions);\n    $licenseResponse = file_get_contents($licenseUrl, false, $licenseContext);\n    $licenseResult = json_decode($licenseResponse, true);\n    \n    echo \"License deleted: \" . json_encode($licenseResult, JSON_PRETTY_PRINT);\n}\n\ndeleteLicense();\n?>\n"})})}),(0,r.jsx)(a.A,{value:"rust",label:"Rust",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'use reqwest;\nuse serde_json::{json, Value};\n\n#[tokio::main]\nasync fn delete_license() -> Result<(), Box<dyn std::error::Error>> {\n    let client = reqwest::Client::new();\n    \n    // First, create a session\n    let session_url = "https://api.zelf.world/api/sessions";\n    let session_data = json!({\n        "identifier": "test_session_123",\n        "type": "createWallet",\n        "isWebExtension": false\n    });\n    \n    let session_response = client\n        .post(session_url)\n        .header("Content-Type", "application/json")\n        .header("Origin", "https://test.example.com")\n        .json(&session_data)\n        .send()\n        .await?;\n    \n    let session_result: Value = session_response.json().await?;\n    let token = session_result["data"]["token"].as_str().unwrap();\n    \n    // Then delete a license\n    let license_url = "https://api.zelf.world/api/licenses/license_123";\n    let params = [\n        ("reason", "User requested cancellation"),\n        ("notifyUser", "true")\n    ];\n    \n    let license_response = client\n        .delete(license_url)\n        .query(&params)\n        .header("Content-Type", "application/json")\n        .header("Origin", "https://test.example.com")\n        .header("Authorization", format!("Bearer {}", token))\n        .send()\n        .await?;\n    \n    let license_result: Value = license_response.json().await?;\n    println!("License deleted: {}", serde_json::to_string_pretty(&license_result)?);\n    \n    Ok(())\n}\n'})})})]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);