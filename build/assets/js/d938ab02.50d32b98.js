"use strict";(self.webpackChunkverifik_documentation=self.webpackChunkverifik_documentation||[]).push([[63860],{11470:(e,n,t)=>{t.d(n,{A:()=>V});var r=t(96540),i=t(34164),s=t(17559),a=t(23104),o=t(56347),d=t(205),l=t(57485),c=t(31682),h=t(70679);function u(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function x(e){const{values:n,children:t}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return u(e).map(({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r}))}(t);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function j({queryString:e=!1,groupId:n}){const t=(0,o.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(i),(0,r.useCallback)(e=>{if(!i)return;const n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})},[i,t])]}function v(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,s=x(e),[a,o]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:s})),[l,c]=j({queryString:t,groupId:i}),[u,v]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,i]=(0,h.Dv)(n);return[t,(0,r.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:i}),f=(()=>{const e=l??u;return p({value:e,tabValues:s})?e:null})();(0,d.A)(()=>{f&&o(f)},[f]);return{selectedValue:a,selectValue:(0,r.useCallback)(e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),c(e),v(e)},[c,v,s]),tabValues:s}}var f=t(92303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(74848);function g({className:e,block:n,selectedValue:t,selectValue:r,tabValues:s}){const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,a.a_)(),l=e=>{const n=e.currentTarget,i=o.indexOf(n),a=s[i].value;a!==t&&(d(n),r(a))},c=e=>{let n=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:s.map(({value:e,label:n,attributes:r})=>(0,b.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{o.push(e)},onKeyDown:c,onClick:l,...r,className:(0,i.A)("tabs__item",m.tabItem,r?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:t}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===t);return e?(0,r.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function w(e){const n=v(e);return(0,b.jsxs)("div",{className:(0,i.A)(s.G.tabs.container,"tabs-container",m.tabList),children:[(0,b.jsx)(g,{...n,...e}),(0,b.jsx)(y,{...n,...e})]})}function V(e){const n=(0,f.A)();return(0,b.jsx)(w,{...e,children:u(e.children)},String(n))}},19365:(e,n,t)=>{t.d(n,{A:()=>a});t(96540);var r=t(34164);const i={tabItem:"tabItem_Ymn6"};var s=t(74848);function a({children:e,hidden:n,className:t}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(i.tabItem,t),hidden:n,children:e})}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(96540);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}},81403:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>x,frontMatter:()=>d,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"resources/create-a-phone-validation","title":"Create a Phone Validation","description":"Create a new phone validation request","source":"@site/docs/resources/create-a-phone-validation.md","sourceDirName":"resources","slug":"/resources/create-a-phone-validation","permalink":"/resources/create-a-phone-validation","draft":false,"unlisted":false,"editUrl":"https://github.com/Open-Verifik/verifik-documentation/tree/main/docs/resources/create-a-phone-validation.md","tags":[],"version":"current","frontMatter":{"id":"create-a-phone-validation","title":"Create a Phone Validation","description":"Create a new phone validation request"},"sidebar":"tutorialSidebar","previous":{"title":"The Phone Validation Object","permalink":"/resources/the-phone-validation-object"},"next":{"title":"Retrieve a Phone Validation","permalink":"/resources/retrieve-a-phone-validation"}}');var i=t(74848),s=t(28453),a=t(11470),o=t(19365);const d={id:"create-a-phone-validation",title:"Create a Phone Validation",description:"Create a new phone validation request"},l="Create a Phone Validation",c={},h=[{value:"Headers",id:"headers",level:2},{value:"Body",id:"body",level:2},{value:"<code>validationMethod</code> Values",id:"validationmethod-values",level:2},{value:"<code>type</code> Values",id:"type-values",level:2},{value:"Request Example",id:"request-example",level:2},{value:"Response",id:"response",level:2},{value:"Features",id:"features",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"create-a-phone-validation",children:"Create a Phone Validation"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"POST"})," ",(0,i.jsx)(n.code,{children:"https://api.verifik.co/v2/phone-validations"})]}),"\n",(0,i.jsx)(n.p,{children:"A Phone Validation is an instance within Verifik's system that allows you to process and validate phone numbers during authentication and registration processes. This process ensures the authenticity of user phone numbers and provides secure verification through SMS or WhatsApp delivery methods."}),"\n",(0,i.jsx)(n.h2,{id:"headers",children:"Headers"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Value"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Content-Type"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"application/json"})})]})})]}),"\n",(0,i.jsx)(n.h2,{id:"body",children:"Body"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"project"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Yes"})}),(0,i.jsx)(n.td,{children:"The unique identifier for the project where this phone validation will be used."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"validationMethod"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Yes"})}),(0,i.jsxs)(n.td,{children:["The validation method, set to ",(0,i.jsx)(n.code,{children:"verificationCode"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"phone"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Yes"})}),(0,i.jsx)(n.td,{children:"The phone number that will be validated (spaces will be automatically removed)."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"countryCode"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Yes"})}),(0,i.jsxs)(n.td,{children:["The country code of the phone number in format ",(0,i.jsx)(n.code,{children:"+XXX"})," (e.g., ",(0,i.jsx)(n.code,{children:"+507"})," for Panama)."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"type"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Yes"})}),(0,i.jsxs)(n.td,{children:["Type of validation: ",(0,i.jsx)(n.code,{children:"validation"}),", ",(0,i.jsx)(n.code,{children:"login"}),", ",(0,i.jsx)(n.code,{children:"onboarding"}),", or ",(0,i.jsx)(n.code,{children:"oneTimeLink"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"expiresAt"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Optional expiration date for the validation code."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"redirectUrl"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Optional URL for redirect after validation."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"webhookUrl"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Optional webhook URL for validation notifications."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"identityUrl"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Optional identity verification URL."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"requires2FA"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Optional flag indicating if two-factor authentication is required."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ipAddress"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Optional IP address of the user."})]})]})]}),"\n",(0,i.jsxs)(n.h2,{id:"validationmethod-values",children:[(0,i.jsx)(n.code,{children:"validationMethod"})," Values"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Value"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"verificationCode"})}),(0,i.jsx)(n.td,{children:"Sends a one-time password (OTP) to the phone number for verification."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"manual"})}),(0,i.jsx)(n.td,{children:"Manual verification process without OTP."})]})]})]}),"\n",(0,i.jsxs)(n.h2,{id:"type-values",children:[(0,i.jsx)(n.code,{children:"type"})," Values"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Value"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"validation"})}),(0,i.jsx)(n.td,{children:"General phone number validation."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"login"})}),(0,i.jsx)(n.td,{children:"Phone verification during user login."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"onboarding"})}),(0,i.jsx)(n.td,{children:"Phone verification during user registration. For onboarding - you must use create-an-app-registration-phone-validation"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"request-example",children:"Request Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'const axios = require("axios");\n\nconst config = {\n  method: "post",\n  url: "https://api.verifik.co/v2/phone-validations",\n  headers: {\n    "Content-Type": "application/json",\n    "Authorization": "Bearer YOUR_ACCESS_TOKEN"\n  },\n  data: {\n    project: "project_123456789",\n    validationMethod: "verificationCode",\n    phone: "1234567890",\n    countryCode: "+1",\n    type: "validation",\n    expiresAt: "2024-01-15T11:30:00Z",\n    redirectUrl: "https://example.com/success",\n    webhookUrl: "https://example.com/webhook",\n    requires2FA: false,\n    ipAddress: "192.168.1.1"\n  }\n};\n\naxios.request(config)\n.then((response) => {\n  console.log(JSON.stringify(response.data));\n})\n.catch((error) => {\n  console.log(error);\n});\n'})}),"\n",(0,i.jsx)(n.h2,{id:"response",children:"Response"}),"\n",(0,i.jsxs)(a.A,{children:[(0,i.jsx)(o.A,{value:"200",label:"200",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "_id": "phone_validation_123456789",\n    "client": "client_123456789",\n    "project": "project_123456789",\n    "projectFlow": "flow_123456789",\n    "status": "sent",\n    "countryCode": "+1",\n    "phone": "1234567890",\n    "type": "validation",\n    "validationMethod": "verificationCode",\n    "verificationCode": "123456",\n    "expiresAt": "2024-01-15T11:30:00Z",\n    "redirectUrl": "https://example.com/success",\n    "webhookUrl": "https://example.com/webhook",\n    "requires2FA": false,\n    "ipAddress": "192.168.1.1",\n    "attempts": 0,\n    "maxAttempts": 3,\n    "createdAt": "2024-01-15T10:30:00Z",\n    "updatedAt": "2024-01-15T10:30:00Z"\n  },\n  "signature": {\n    "dateTime": "April 11, 2023 12:25 PM",\n    "message": "Certified by Verifik.co"\n  }\n}\n'})})}),(0,i.jsx)(o.A,{value:"400",label:"400",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "error": "Invalid phone number",\n  "code": "INVALID_PHONE"\n}\n'})})})]}),"\n",(0,i.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Validation Creation"}),": Creates new phone validations with complete configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Multiple Methods"}),": Support for verification codes and manual verification"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Validation Types"}),": Standard validation, login, onboarding and unique links"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Country Codes"}),": Support for international country codes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Advanced Configuration"}),": Redirect URLs, webhooks and two-factor authentication"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Security"}),": Attempt control, expiration and abuse prevention"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Multiple Languages"}),": Support for JavaScript, Python, PHP and Swift"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Handling"}),": Detailed error responses for different scenarios"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);