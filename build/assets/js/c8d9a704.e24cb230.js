"use strict";(self.webpackChunkverifik_documentation=self.webpackChunkverifik_documentation||[]).push([[32687],{11470:(e,n,r)=>{r.d(n,{A:()=>y});var o=r(96540),s=r(34164),t=r(17559),i=r(23104),a=r(56347),l=r(205),c=r(57485),u=r(31682),h=r(70679);function d(e){return o.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:r}=e;return(0,o.useMemo)(()=>{const e=n??function(e){return d(e).map(({props:{value:e,label:n,attributes:r,default:o}})=>({value:e,label:n,attributes:r,default:o}))}(r);return function(e){const n=(0,u.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,r])}function b({value:e,tabValues:n}){return n.some(n=>n.value===e)}function k({queryString:e=!1,groupId:n}){const r=(0,a.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(s),(0,o.useCallback)(e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})},[s,r])]}function f(e){const{defaultValue:n,queryString:r=!1,groupId:s}=e,t=p(e),[i,a]=(0,o.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!b({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find(e=>e.default)??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:t})),[c,u]=k({queryString:r,groupId:s}),[d,f]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,s]=(0,h.Dv)(n);return[r,(0,o.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:s}),v=(()=>{const e=c??d;return b({value:e,tabValues:t})?e:null})();(0,l.A)(()=>{v&&a(v)},[v]);return{selectedValue:i,selectValue:(0,o.useCallback)(e=>{if(!b({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);a(e),u(e),f(e)},[u,f,t]),tabValues:t}}var v=r(92303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=r(74848);function w({className:e,block:n,selectedValue:r,selectValue:o,tabValues:t}){const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),c=e=>{const n=e.currentTarget,s=a.indexOf(n),i=t[s].value;i!==r&&(l(n),o(i))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=a.indexOf(e.currentTarget)+1;n=a[r]??a[0];break}case"ArrowLeft":{const r=a.indexOf(e.currentTarget)-1;n=a[r]??a[a.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:t.map(({value:e,label:n,attributes:o})=>(0,x.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{a.push(e)},onKeyDown:u,onClick:c,...o,className:(0,s.A)("tabs__item",g.tabItem,o?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function m({lazy:e,children:n,selectedValue:r}){const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=t.find(e=>e.props.value===r);return e?(0,o.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:t.map((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function j(e){const n=f(e);return(0,x.jsxs)("div",{className:(0,s.A)(t.G.tabs.container,"tabs-container",g.tabList),children:[(0,x.jsx)(w,{...n,...e}),(0,x.jsx)(m,{...n,...e})]})}function y(e){const n=(0,v.A)();return(0,x.jsx)(j,{...e,children:d(e.children)},String(n))}},19365:(e,n,r)=>{r.d(n,{A:()=>i});r(96540);var o=r(34164);const s={tabItem:"tabItem_Ymn6"};var t=r(74848);function i({children:e,hidden:n,className:r}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,o.A)(s.tabItem,r),hidden:n,children:e})}},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>a});var o=r(96540);const s={},t=o.createContext(s);function i(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(t.Provider,{value:n},e.children)}},82949:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"resources/webhook-integration","title":"Webhook Integration","description":"Guide for setting up webhooks to receive events from Verifik","source":"@site/docs/resources/webhook-integration.md","sourceDirName":"resources","slug":"/resources/webhook-integration","permalink":"/resources/webhook-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/Open-Verifik/verifik-documentation/tree/main/docs/resources/webhook-integration.md","tags":[],"version":"current","frontMatter":{"id":"webhook-integration","title":"Webhook Integration","description":"Guide for setting up webhooks to receive events from Verifik","slug":"/resources/webhook-integration"}}');var s=r(74848),t=r(28453);r(11470),r(19365);const i={id:"webhook-integration",title:"Webhook Integration",description:"Guide for setting up webhooks to receive events from Verifik",slug:"/resources/webhook-integration"},a="Webhook Integration",l={},c=[{value:"Webhook Setup Guide",id:"webhook-setup-guide",level:3},{value:"1. Prerequisites",id:"1-prerequisites",level:4},{value:"2. Install Required Packages",id:"2-install-required-packages",level:4},{value:"3. Create the Webhook Server",id:"3-create-the-webhook-server",level:4},{value:"4. Run the Webhook Server",id:"4-run-the-webhook-server",level:4},{value:"5. Expose Your Webhook Server",id:"5-expose-your-webhook-server",level:4},{value:"6. Configure Webhook URL with Verifik",id:"6-configure-webhook-url-with-verifik",level:4},{value:"7. Testing Webhooks",id:"7-testing-webhooks",level:4},{value:"8. Security Considerations",id:"8-security-considerations",level:4},{value:"Conclusion",id:"conclusion",level:4},{value:"Now we are ready to create the webhook object in Verifik",id:"now-we-are-ready-to-create-the-webhook-object-in-verifik",level:3}];function u(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"webhook-integration",children:"Webhook Integration"})}),"\n",(0,s.jsx)(n.p,{children:"Here's a concise documentation for setting up a webhook using Node.js that can be used to receive events from Verifik. This includes step-by-step instructions on how the user can configure their webhook to receive events."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"webhook-setup-guide",children:"Webhook Setup Guide"}),"\n",(0,s.jsx)(n.p,{children:"This guide explains how to set up a simple webhook using Node.js. You can use this webhook to receive events from Verifik in real-time."}),"\n",(0,s.jsx)(n.h4,{id:"1-prerequisites",children:"1. Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"Before starting, ensure you have:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Node.js"})," installed on your system."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"npm"})," (Node Package Manager) installed (usually comes with Node.js)."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"2-install-required-packages",children:"2. Install Required Packages"}),"\n",(0,s.jsx)(n.p,{children:"To get started, initialize a Node.js project and install the necessary dependencies."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mkdir webhook-example\ncd webhook-example\nnpm init -y\nnpm install express body-parser\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"express"}),": A web framework for Node.js to handle HTTP requests."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"body-parser"}),": Middleware to parse incoming request bodies (especially JSON)."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"3-create-the-webhook-server",children:"3. Create the Webhook Server"}),"\n",(0,s.jsxs)(n.p,{children:["Create a file named ",(0,s.jsx)(n.code,{children:"webhook.js"})," and add the following code:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const express = require('express');\nconst bodyParser = require('body-parser');\n\nconst app = express();\nconst PORT = 3000;\n\n// Middleware to parse JSON requests\napp.use(bodyParser.json());\n\n// Endpoint to receive webhook events\napp.post('/webhook', (req, res) => {\n  const event = req.body;\n\n  // Log the received event\n  console.log('Received event:', event);\n\n  // Respond with a success message\n  res.status(200).send('Webhook received successfully');\n});\n\n// Start the server\napp.listen(PORT, () => {\n  console.log(`Webhook server is running on port ${PORT}`);\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"4-run-the-webhook-server",children:"4. Run the Webhook Server"}),"\n",(0,s.jsx)(n.p,{children:"To start the webhook server, run the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"node webhook.js\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Your webhook server will be running locally on ",(0,s.jsx)(n.code,{children:"http://localhost:3000/webhook"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"5-expose-your-webhook-server",children:"5. Expose Your Webhook Server"}),"\n",(0,s.jsxs)(n.p,{children:["If you want Verifik to send events to your webhook, you need to expose it to the internet. This can be done using tools like ",(0,s.jsx)(n.strong,{children:"ngrok"}),". Install ngrok if you haven't already:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install -g ngrok\n"})}),"\n",(0,s.jsx)(n.p,{children:"Then, expose your local server:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ngrok http 3000\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You will receive a public URL, such as ",(0,s.jsx)(n.code,{children:"https://<random-id>.ngrok.io"}),", which can be used by Verifik to send webhook events."]}),"\n",(0,s.jsx)(n.h4,{id:"6-configure-webhook-url-with-verifik",children:"6. Configure Webhook URL with Verifik"}),"\n",(0,s.jsx)(n.p,{children:"Once your webhook is publicly accessible, you can provide the URL to Verifik. Here's how to configure your webhook:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Set Your Webhook URL"}),": Provide the public URL from ngrok to Verifik's integration team.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Example: ",(0,s.jsx)(n.code,{children:"https://<random-id>.ngrok.io/webhook"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Event Subscription"}),": Indicate which events you'd like to receive from Verifik (e.g., user sign-up, transaction completed)."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"7-testing-webhooks",children:"7. Testing Webhooks"}),"\n",(0,s.jsxs)(n.p,{children:["You can test your webhook locally by sending a ",(0,s.jsx)(n.code,{children:"POST"})," request using a tool like ",(0,s.jsx)(n.code,{children:"curl"})," or Postman."]}),"\n",(0,s.jsxs)(n.p,{children:["Example with ",(0,s.jsx)(n.code,{children:"curl"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:3000/webhook -H "Content-Type: application/json" -d \'{"event":"user_signup", "data": {"user_id": "12345"}}\'\n'})}),"\n",(0,s.jsx)(n.p,{children:"This should print the event to your console and return a success message."}),"\n",(0,s.jsx)(n.h4,{id:"8-security-considerations",children:"8. Security Considerations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Signature Verification"}),": For production use, it's important to verify the signature of incoming webhook requests to ensure they originate from Verifik. This can be done using shared secrets or API keys, which Verifik will provide."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"HTTPS"}),": Make sure your webhook URL uses HTTPS when in production."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsxs)(n.p,{children:["You've now set up a basic webhook in Node.js that can receive events from ",(0,s.jsx)(n.strong,{children:"Verifik"}),". You can use this webhook for a variety of purposes such as listening to user signups, transactions, or other real-time events."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"Let us know if you need any additional details from our side and we are happy to help."}),"\n",(0,s.jsx)(n.h3,{id:"now-we-are-ready-to-create-the-webhook-object-in-verifik",children:"Now we are ready to create the webhook object in Verifik"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"/resources/webhooks/create-a-webhook",children:"Create a Webhook"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);