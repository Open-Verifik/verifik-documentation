"use strict";(globalThis.webpackChunkverifik_documentation=globalThis.webpackChunkverifik_documentation||[]).push([[9552],{931(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/image-4-a98cfb117b3ef43c17c45d2a8d1b9a93.png"},3478(e,n,a){a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>m,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"compensar/COMPENSAR_FLOW_DIAGRAMS","title":"Diagramas de Flujo","description":"\ud83c\udfcb\ufe0f Caso 1: Acceso a Gimnasios","source":"@site/docs/compensar/COMPENSAR_FLOW_DIAGRAMS.md","sourceDirName":"compensar","slug":"/compensar/COMPENSAR_FLOW_DIAGRAMS","permalink":"/compensar/COMPENSAR_FLOW_DIAGRAMS","draft":false,"unlisted":false,"editUrl":"https://github.com/Open-Verifik/verifik-documentation/tree/main/docs/compensar/COMPENSAR_FLOW_DIAGRAMS.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"COMPENSAR_FLOW_DIAGRAMS","title":"Diagramas de Flujo","sidebar_label":"\ud83d\udcca Diagramas","sidebar_position":6}}');var o=a(74848),s=a(28453);const c={id:"COMPENSAR_FLOW_DIAGRAMS",title:"Diagramas de Flujo",sidebar_label:"\ud83d\udcca Diagramas",sidebar_position:6},t=void 0,d={},l=[{value:"\ud83c\udfcb\ufe0f Caso 1: Acceso a Gimnasios",id:"\ufe0f-caso-1-acceso-a-gimnasios",level:2},{value:"Flujo de Registro Inicial",id:"flujo-de-registro-inicial",level:3},{value:"Flujo de Acceso Diario",id:"flujo-de-acceso-diario",level:3},{value:"alt text",id:"alt-text",level:2},{value:"\ud83d\udcb3 Caso 2: Validaci\xf3n de Identidad en Cr\xe9ditos",id:"-caso-2-validaci\xf3n-de-identidad-en-cr\xe9ditos",level:2},{value:"Flujo Completo de Validaci\xf3n",id:"flujo-completo-de-validaci\xf3n",level:3},{value:"Comparaci\xf3n: BPO Actual vs Verifik Automatizado",id:"comparaci\xf3n-bpo-actual-vs-verifik-automatizado",level:3},{value:"\ud83c\udfe2 Caso 3: Control de Acceso a Sedes",id:"-caso-3-control-de-acceso-a-sedes",level:2},{value:"Flujo de Registro de Empleado",id:"flujo-de-registro-de-empleado",level:3},{value:"Flujo de Acceso Diario a Sede",id:"flujo-de-acceso-diario-a-sede",level:3},{value:"\ud83d\udcf1 Caso 4: Tr\xe1mites Digitales",id:"-caso-4-tr\xe1mites-digitales",level:2},{value:"Flujo de Validaci\xf3n Completa",id:"flujo-de-validaci\xf3n-completa",level:3},{value:"\ud83d\udd12 Flujos de Privacidad Mejorada (ZelfProof)",id:"-flujos-de-privacidad-mejorada-zelfproof",level:2},{value:"SmartEnroll: Creaci\xf3n de Identidad Zero Knowledge",id:"smartenroll-creaci\xf3n-de-identidad-zero-knowledge",level:3},{value:"SmartAccess: Login Privado (Sin B\xfasqueda 1)",id:"smartaccess-login-privado-sin-b\xfasqueda-1",level:3},{value:"\ud83d\udd04 Arquitectura del Sistema",id:"-arquitectura-del-sistema",level:2},{value:"Vista de Alto Nivel",id:"vista-de-alto-nivel",level:3},{value:"Flujo de Datos - Validaci\xf3n de Documento",id:"flujo-de-datos---validaci\xf3n-de-documento",level:3},{value:"\ud83d\udd10 Flujo de Autenticaci\xf3n",id:"-flujo-de-autenticaci\xf3n",level:2},{value:"Autenticaci\xf3n con API Key",id:"autenticaci\xf3n-con-api-key",level:3},{value:"\ud83d\udcca Flujo de Webhooks",id:"-flujo-de-webhooks",level:2},{value:"Configuraci\xf3n y Notificaciones",id:"configuraci\xf3n-y-notificaciones",level:3},{value:"\ud83c\udfaf Decisiones de Validaci\xf3n",id:"-decisiones-de-validaci\xf3n",level:2},{value:"\xc1rbol de Decisi\xf3n - Validaci\xf3n de Documento",id:"\xe1rbol-de-decisi\xf3n---validaci\xf3n-de-documento",level:3},{value:"\xc1rbol de Decisi\xf3n - Validaci\xf3n Biom\xe9trica",id:"\xe1rbol-de-decisi\xf3n---validaci\xf3n-biom\xe9trica",level:3},{value:"\ud83d\udcc8 M\xe9tricas y Monitoreo",id:"-m\xe9tricas-y-monitoreo",level:2},{value:"Dashboard de M\xe9tricas",id:"dashboard-de-m\xe9tricas",level:3},{value:"\ud83d\udd04 Plan de Implementaci\xf3n",id:"-plan-de-implementaci\xf3n",level:2},{value:"Timeline de 12 Semanas",id:"timeline-de-12-semanas",level:3}];function r(e){const n={br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"\ufe0f-caso-1-acceso-a-gimnasios",children:"\ud83c\udfcb\ufe0f Caso 1: Acceso a Gimnasios"}),"\n",(0,o.jsx)(n.h3,{id:"flujo-de-registro-inicial",children:"Flujo de Registro Inicial"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant U as Usuario\n    participant A as App COMPENSAR\n    participant V as Verifik API\n    participant R as Registradur\xeda\n    participant DB as Base de Datos\n\n    U->>A: Llega al gimnasio por primera vez\n    A->>U: Solicita documento de identidad\n    U->>A: Toma foto de c\xe9dula\n\n    A->>V: POST /document-validations\n    V->>V: OCR con IA (extrae datos)\n    V--\x3e>A: Datos extra\xeddos\n\n    A->>V: POST /colombian-citizens\n    V->>R: Consulta Registradur\xeda\n    R--\x3e>V: Datos oficiales\n    V->>V: Valida matching (>90%)\n    V--\x3e>A: Validaci\xf3n exitosa\n\n    A->>U: Solicita selfie para liveness\n    U->>A: Toma selfie\n\n    A->>V: POST /biometric-validations\n    V->>V: Liveness detection (score &gt;0.6)\n    V->>V: Crea perfil facial\n    V->>DB: Guarda en colecci\xf3n gimnasio\n    V--\x3e>A: Registro exitoso\n\n    A->>U: \u2705 Registro completado\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Diagrama Renderizado:"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(69984).A+"",width:"2070",height:"1414"})}),"\n",(0,o.jsx)(n.h3,{id:"flujo-de-acceso-diario",children:"Flujo de Acceso Diario"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant U as Usuario\n    participant K as Kiosco/Tablet\n    participant V as Verifik API\n    participant DB as Base de Datos\n    participant T as Torniquete\n\n    U->>K: Se acerca al punto de acceso\n    K->>K: Captura facial autom\xe1tica\n\n    K->>V: POST /biometric-validations/validate\n    Note over V: B\xfasqueda 1:N en colecci\xf3n\n    V->>DB: Busca en colecci\xf3n gimnasio\n    DB--\x3e>V: Coincidencias encontradas\n\n    V->>V: Valida liveness (>0.6)\n    V->>V: Valida similitud (>0.85)\n\n    alt Usuario encontrado y validado\n        V--\x3e>K: \u2705 Usuario: Juan P\xe9rez (92% match)\n        K->>DB: Registra asistencia\n        K->>T: Abre torniquete\n        K->>U: \u2705 Acceso permitido\n    else Usuario no encontrado\n        V--\x3e>K: \u274c Usuario no registrado\n        K->>U: \u274c Debe registrarse primero\n    else Liveness fallido\n        V--\x3e>K: \u26a0\ufe0f Liveness score bajo\n        K->>U: \u26a0\ufe0f Intente de nuevo\n    end\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Diagrama Renderizado:"})}),"\n",(0,o.jsx)(n.h2,{id:"alt-text",children:(0,o.jsx)(n.img,{alt:"alt text",src:a(88862).A+"",width:"2070",height:"1414"})}),"\n",(0,o.jsx)(n.h2,{id:"-caso-2-validaci\xf3n-de-identidad-en-cr\xe9ditos",children:"\ud83d\udcb3 Caso 2: Validaci\xf3n de Identidad en Cr\xe9ditos"}),"\n",(0,o.jsx)(n.h3,{id:"flujo-completo-de-validaci\xf3n",children:"Flujo Completo de Validaci\xf3n"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant U as Usuario\n    participant W as Portal Web\n    participant V as Verifik API\n    participant R as Registradur\xeda\n    participant WH as Webhook COMPENSAR\n    participant S as Sistema Cr\xe9ditos\n\n    U->>W: Solicita cr\xe9dito\n    W->>U: Solicita documento\n\n    rect rgb(200, 220, 250)\n        Note over U,R: Paso 1: Validaci\xf3n de Documento\n        U->>W: Toma foto c\xe9dula (frente/reverso)\n        W->>V: POST /document-validations\n        V->>V: OCR con IA\n        V--\x3e>W: Datos extra\xeddos\n\n        W->>V: POST /document-validations/:id/name-validation\n        V->>R: Consulta Registradur\xeda\n        R--\x3e>V: Datos oficiales\n        V->>V: Matching de nombres (>90%)\n        V->>WH: Webhook: document_validation_completed\n        V--\x3e>W: \u2705 Documento validado\n    end\n\n    rect rgb(200, 250, 220)\n        Note over U,WH: Paso 2: Validaci\xf3n Biom\xe9trica\n        W->>U: Solicita selfie\n        U->>W: Toma selfie\n\n        W->>V: POST /biometric-validations\n        V->>V: Liveness detection\n        V->>V: Compara con foto documento\n\n        alt Validaci\xf3n exitosa\n            V->>WH: Webhook: biometric_validation_validated\n            V--\x3e>W: \u2705 Biometr\xeda validada (score: 0.87)\n            W->>S: Aprobaci\xf3n autom\xe1tica\n            S--\x3e>U: \u2705 Cr\xe9dito aprobado\n        else Validaci\xf3n fallida\n            V->>WH: Webhook: biometric_validation_failed\n            V--\x3e>W: \u274c Validaci\xf3n fallida\n            W->>S: Requiere revisi\xf3n manual\n            S--\x3e>U: \u23f3 En revisi\xf3n\n        end\n    end\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Diagrama Renderizado:"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(56213).A+"",width:"1962",height:"1772"})}),"\n",(0,o.jsx)(n.h3,{id:"comparaci\xf3n-bpo-actual-vs-verifik-automatizado",children:"Comparaci\xf3n: BPO Actual vs Verifik Automatizado"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:'graph TB\n    subgraph "Soluci\xf3n Actual (BPO)"\n        A1[Usuario env\xeda documento] --\x3e A2[Operador BPO recibe]\n        A2 --\x3e A3[Operador valida manualmente]\n        A3 --\x3e A4{\xbfV\xe1lido?}\n        A4 --\x3e|S\xed| A5[Aprobaci\xf3n manual]\n        A4 --\x3e|No| A6[Rechazo manual]\n        A5 --\x3e A7[Tiempo: 2-5 min]\n        A6 --\x3e A7\n        A7 --\x3e A8[Costo: Alto]\n        A8 --\x3e A9[Disponibilidad: Horario laboral]\n    end\n\n    subgraph "Soluci\xf3n Verifik (Automatizada)"\n        B1[Usuario env\xeda documento] --\x3e B2[OCR con IA]\n        B2 --\x3e B3[Validaci\xf3n Registradur\xeda]\n        B3 --\x3e B4[Liveness + Facial]\n        B4 --\x3e B5{\xbfV\xe1lido?}\n        B5 --\x3e|S\xed| B6[Aprobaci\xf3n autom\xe1tica]\n        B5 --\x3e|No| B7[Revisi\xf3n manual solo si necesario]\n        B6 --\x3e B8[Tiempo: &lt;30 seg]\n        B7 --\x3e B8\n        B8 --\x3e B9[Costo: -70%]\n        B9 --\x3e B10[Disponibilidad: 24/7]\n    end\n\n    style A7 fill:#ffcccc\n    style A8 fill:#ffcccc\n    style A9 fill:#ffcccc\n    style B8 fill:#ccffcc\n    style B9 fill:#ccffcc\n    style B10 fill:#ccffcc\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(21386).A+"",width:"21023",height:"1390"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(70764).A+"",width:"2050",height:"382"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(931).A+"",width:"1920",height:"370"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-caso-3-control-de-acceso-a-sedes",children:"\ud83c\udfe2 Caso 3: Control de Acceso a Sedes"}),"\n",(0,o.jsx)(n.h3,{id:"flujo-de-registro-de-empleado",children:"Flujo de Registro de Empleado"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"flowchart TD\n    Start([Nuevo Empleado]) --\x3e A[Captura Documento]\n    A --\x3e B[POST /document-validations]\n    B --\x3e C{\xbfDocumento v\xe1lido?}\n\n    C --\x3e|No| D[\u274c Rechazar]\n    C --\x3e|S\xed| E[POST /colombian-citizens]\n\n    E --\x3e F{\xbfValidaci\xf3n oficial OK?}\n    F --\x3e|No| D\n    F --\x3e|S\xed| G[POST /email-validations]\n\n    G --\x3e H[Env\xeda OTP a email corporativo]\n    H --\x3e I{\xbfOTP verificado?}\n    I --\x3e|No| D\n    I --\x3e|S\xed| J[POST /phone-validations]\n\n    J --\x3e K[Env\xeda OTP a tel\xe9fono]\n    K --\x3e L{\xbfOTP verificado?}\n    L --\x3e|No| D\n    L --\x3e|S\xed| M[POST /biometric-validations]\n\n    M --\x3e N[Captura facial + liveness]\n    N --\x3e O{\xbfBiometr\xeda OK?}\n    O --\x3e|No| D\n    O --\x3e|S\xed| P[Asigna permisos de acceso]\n\n    P --\x3e Q[Guarda en colecci\xf3n empleados]\n    Q --\x3e End([\u2705 Empleado Registrado])\n\n    style D fill:#ffcccc\n    style End fill:#ccffcc\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Diagrama Renderizado:"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(91735).A+"",width:"2928",height:"12646"})}),"\n",(0,o.jsx)(n.h3,{id:"flujo-de-acceso-diario-a-sede",children:"Flujo de Acceso Diario a Sede"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant E as Empleado\n    participant T as Torniquete\n    participant V as Verifik API\n    participant DB as Base de Datos\n    participant S as Sistema COMPENSAR\n\n    E->>T: Se acerca al torniquete\n    T->>T: Captura facial\n\n    T->>V: POST /biometric-validations/validate\n    V->>DB: B\xfasqueda en colecci\xf3n empleados\n\n    alt Empleado encontrado\n        DB--\x3e>V: Match encontrado (95%)\n        V->>V: Valida liveness\n        V->>V: Valida permisos\n\n        alt Tiene permisos\n            V--\x3e>T: \u2705 Acceso autorizado\n            T->>S: Registra entrada (timestamp)\n            T->>T: Abre torniquete\n            T->>E: \u2705 Bienvenido Juan P\xe9rez\n        else Sin permisos\n            V--\x3e>T: \u274c Sin permisos para esta \xe1rea\n            T->>S: Registra intento denegado\n            T->>E: \u274c Acceso denegado\n        end\n    else Empleado no encontrado\n        V--\x3e>T: \u274c No registrado\n        T->>S: Registra intento no autorizado\n        T->>E: \u274c Contacte a RRHH\n    end\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Diagrama Renderizado:"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(26072).A+"",width:"7285",height:"6685"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-caso-4-tr\xe1mites-digitales",children:"\ud83d\udcf1 Caso 4: Tr\xe1mites Digitales"}),"\n",(0,o.jsx)(n.h3,{id:"flujo-de-validaci\xf3n-completa",children:"Flujo de Validaci\xf3n Completa"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:'flowchart LR\n    Start([Usuario inicia tr\xe1mite]) --\x3e A[Validaci\xf3n Documento]\n\n    subgraph "Validaci\xf3n de Documento"\n        A --\x3e A1[POST /document-validations]\n        A1 --\x3e A2[OCR + Extracci\xf3n]\n        A2 --\x3e A3[POST /colombian-citizens]\n        A3 --\x3e A4{\xbfV\xe1lido?}\n    end\n\n    A4 --\x3e|No| Reject[\u274c Rechazar]\n    A4 --\x3e|S\xed| B[Validaci\xf3n Email]\n\n    subgraph "Validaci\xf3n de Email"\n        B --\x3e B1[POST /email-validations]\n        B1 --\x3e B2[Env\xeda OTP]\n        B2 --\x3e B3[Usuario ingresa c\xf3digo]\n        B3 --\x3e B4{\xbfCorrecto?}\n    end\n\n    B4 --\x3e|No| Reject\n    B4 --\x3e|S\xed| C[Validaci\xf3n Tel\xe9fono]\n\n    subgraph "Validaci\xf3n de Tel\xe9fono"\n        C --\x3e C1[POST /phone-validations]\n        C1 --\x3e C2[Env\xeda OTP SMS/WhatsApp]\n        C2 --\x3e C3[Usuario ingresa c\xf3digo]\n        C3 --\x3e C4{\xbfCorrecto?}\n    end\n\n    C4 --\x3e|No| Reject\n    C4 --\x3e|S\xed| D[Validaci\xf3n Biom\xe9trica]\n\n    subgraph "Validaci\xf3n Biom\xe9trica"\n        D --\x3e D1[POST /biometric-validations]\n        D1 --\x3e D2[Captura selfie]\n        D2 --\x3e D3[Liveness + Facial]\n        D3 --\x3e D4{\xbfV\xe1lido?}\n    end\n\n    D4 --\x3e|No| Reject\n    D4 --\x3e|S\xed| Success[\u2705 Tr\xe1mite Aprobado]\n\n    style Reject fill:#ffcccc\n    style Success fill:#ccffcc\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Diagrama Renderizado:"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(40904).A+"",width:"25366",height:"2417"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-flujos-de-privacidad-mejorada-zelfproof",children:"\ud83d\udd12 Flujos de Privacidad Mejorada (ZelfProof)"}),"\n",(0,o.jsx)(n.h3,{id:"smartenroll-creaci\xf3n-de-identidad-zero-knowledge",children:"SmartEnroll: Creaci\xf3n de Identidad Zero Knowledge"}),"\n",(0,o.jsx)(n.p,{children:"Este flujo muestra c\xf3mo se crea una identidad digital segura donde la biometr\xeda cifra los datos, sin necesidad de almacenarla centralmente."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant U as Usuario\n    participant A as App COMPENSAR\n    participant V as Verifik API\n    participant Z as ZelfProof Service\n    participant I as IPFS Storage\n\n    Note over U,V: Pasos previos: Validaci\xf3n Documental y Liveness (Tradicional)\n\n    A->>V: POST /zelf-proof/encrypt-qr-code\n    Note right of A: Payload: Datos de Identidad + Template Facial\n\n    V->>Z: Cifra datos usando Biometr\xeda como Llave\n    Z--\x3e>V: Retorna ZelfProof (Encrypted Blob)\n\n    V->>I: Almacena ZelfProof\n    I--\x3e>V: Retorna Hash IPFS (CID)\n\n    V--\x3e>A: Retorna QR Code (contiene CID + metadata)\n    A->>U: Guarda QR en Billetera Digital\n    Note over U: El usuario es el \xfanico due\xf1o de su identidad\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(37050).A+"",width:"8530",height:"3420"})}),"\n",(0,o.jsxs)(n.h3,{id:"smartaccess-login-privado-sin-b\xfasqueda-1",children:["SmartAccess: Login Privado (Sin B\xfasqueda 1",":N",")"]}),"\n",(0,o.jsx)(n.p,{children:"Acceso seguro validando criptogr\xe1ficamente que el usuario es quien dice ser, sin buscar en una base de datos masiva."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant U as Usuario\n    participant K as Kiosco/Torniquete\n    participant V as Verifik API\n    participant I as IPFS Storage\n    participant Z as ZelfProof Service\n\n    U->>K: Presenta Identificador (QR/C\xe9dula)\n    K->>V: POST /zelf-proof/decrypt\n\n    V->>I: Busca ZelfProof por Identificador\n    I--\x3e>V: Retorna ZelfProof Cifrado\n\n    K->>U: Solicita Biometr\xeda Facial\n    U->>K: Captura Rostro\n    K->>V: Env\xeda Datos + Rostro Capturado\n\n    V->>Z: Intenta Descifrar ZelfProof con Rostro\n\n    alt Decripci\xf3n Exitosa\n        Z--\x3e>V: \u2705 Proof V\xe1lido (Identidad Recuperada)\n        V--\x3e>K: \u2705 Acceso Concedido (Token)\n        K->>U: Abre Torniquete\n    else Fallo de Decripci\xf3n\n        Z--\x3e>V: \u274c Llave Biom\xe9trica Incorrecta\n        V--\x3e>K: \u274c Acceso Denegado\n        K->>U: Intente de nuevo\n    end\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(5060).A+"",width:"7315",height:"4865"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-arquitectura-del-sistema",children:"\ud83d\udd04 Arquitectura del Sistema"}),"\n",(0,o.jsx)(n.h3,{id:"vista-de-alto-nivel",children:"Vista de Alto Nivel"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:'graph TB\n    subgraph "COMPENSAR Frontend"\n        WEB[Portal Web]\n        MOBILE[App M\xf3vil]\n        KIOSK[Kioscos]\n    end\n\n    subgraph "Verifik API Gateway"\n        GW[API Gateway]\n        AUTH[Autenticaci\xf3n]\n        RATE[Rate Limiting]\n    end\n\n    subgraph "Verifik Services"\n        DOC[Document Validation<br/>OCR con IA]\n        BIO[Biometric Validation<br/>Facial + Liveness]\n        OTP[OTP Services<br/>SMS/Email/WhatsApp]\n        LOOKUP[Citizen Lookup<br/>Bases de Datos]\n    end\n\n    subgraph "Fuentes Oficiales"\n        REG[Registradur\xeda]\n        MIG[Migraci\xf3n Colombia]\n        RUNT[RUNT]\n        RUES[RUES]\n    end\n\n    subgraph "Storage"\n        MONGO[(MongoDB)]\n        CLOUD[Cloud Storage]\n        REDIS[(Redis Cache)]\n    end\n\n    WEB --\x3e GW\n    MOBILE --\x3e GW\n    KIOSK --\x3e GW\n\n    GW --\x3e AUTH\n    AUTH --\x3e RATE\n    RATE --\x3e DOC\n    RATE --\x3e BIO\n    RATE --\x3e OTP\n    RATE --\x3e LOOKUP\n\n    DOC --\x3e MONGO\n    DOC --\x3e CLOUD\n    BIO --\x3e MONGO\n    BIO --\x3e CLOUD\n    OTP --\x3e MONGO\n    LOOKUP --\x3e REDIS\n\n    LOOKUP --\x3e REG\n    LOOKUP --\x3e MIG\n    LOOKUP --\x3e RUNT\n    LOOKUP --\x3e RUES\n\n    style WEB fill:#e1f5ff\n    style MOBILE fill:#e1f5ff\n    style KIOSK fill:#e1f5ff\n    style DOC fill:#fff4e1\n    style BIO fill:#fff4e1\n    style OTP fill:#fff4e1\n    style LOOKUP fill:#fff4e1\n    style REG fill:#e8f5e9\n    style MIG fill:#e8f5e9\n    style RUNT fill:#e8f5e9\n    style RUES fill:#e8f5e9\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(78865).A+"",width:"7645",height:"3957"})}),"\n",(0,o.jsx)(n.h3,{id:"flujo-de-datos---validaci\xf3n-de-documento",children:"Flujo de Datos - Validaci\xf3n de Documento"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n    A[Usuario] --\x3e|1. Foto documento| B[Frontend]\n    B --\x3e|2. Base64 image| C[Verifik API]\n    C --\x3e|3. OCR| D[Google Gemini AI]\n    D --\x3e|4. Datos extra\xeddos| C\n    C --\x3e|5. Consulta| E[Registradur\xeda]\n    E --\x3e|6. Datos oficiales| C\n    C --\x3e|7. Matching| F[String Similarity]\n    F --\x3e|8. Score| C\n    C --\x3e|9. Resultado| G[MongoDB]\n    C --\x3e|10. Imagen| H[Cloud Storage]\n    C --\x3e|11. Webhook| I[Sistema COMPENSAR]\n    C --\x3e|12. Response| B\n    B --\x3e|13. Resultado| A\n\n    style A fill:#e1f5ff\n    style D fill:#fff4e1\n    style E fill:#e8f5e9\n    style G fill:#f3e5f5\n    style H fill:#f3e5f5\n    style I fill:#ffe0b2\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(20220).A+"",width:"4973",height:"2722"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-flujo-de-autenticaci\xf3n",children:"\ud83d\udd10 Flujo de Autenticaci\xf3n"}),"\n",(0,o.jsx)(n.h3,{id:"autenticaci\xf3n-con-api-key",children:"Autenticaci\xf3n con API Key"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant C as Cliente COMPENSAR\n    participant V as Verifik API\n    participant DB as Base de Datos\n\n    Note over C,V: Configuraci\xf3n Inicial\n    C->>V: Solicita API Key\n    V->>DB: Crea cliente y API Key\n    DB--\x3e>V: API Key generada\n    V--\x3e>C: API Key: sk_live_xxxxx\n\n    Note over C,V: Uso de la API\n    C->>V: POST /document-validations<br/>Header: Authorization: Bearer sk_live_xxxxx\n    V->>V: Valida API Key\n\n    alt API Key v\xe1lida\n        V->>DB: Verifica permisos\n        DB--\x3e>V: Cliente autorizado\n        V->>V: Procesa solicitud\n        V--\x3e>C: 200 OK + Resultado\n    else API Key inv\xe1lida\n        V--\x3e>C: 401 Unauthorized\n    else Rate limit excedido\n        V--\x3e>C: 429 Too Many Requests\n    end\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(84648).A+"",width:"4665",height:"5495"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-flujo-de-webhooks",children:"\ud83d\udcca Flujo de Webhooks"}),"\n",(0,o.jsx)(n.h3,{id:"configuraci\xf3n-y-notificaciones",children:"Configuraci\xf3n y Notificaciones"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant C as COMPENSAR\n    participant V as Verifik API\n    participant DB as Base de Datos\n    participant W as Webhook Endpoint\n\n    Note over C,V: Configuraci\xf3n de Webhook\n    C->>V: POST /webhooks\n    Note over C: URL: https://compensar.com/webhooks/verifik<br/>Events: [document_validation_completed, ...]\n    V->>DB: Guarda configuraci\xf3n\n    V--\x3e>C: Webhook configurado\n\n    Note over C,W: Evento de Validaci\xf3n\n    C->>V: POST /document-validations\n    V->>V: Procesa validaci\xf3n\n    V->>DB: Guarda resultado\n\n    V->>V: Genera payload\n    V->>V: Firma HMAC-SHA256\n    V->>W: POST https://compensar.com/webhooks/verifik\n    Note over V,W: Headers:<br/>X-Webhook-Signature: sha256=...<br/>X-Event-Type: document_validation_completed\n\n    alt Webhook exitoso\n        W->>W: Valida firma HMAC\n        W->>W: Procesa evento\n        W--\x3e>V: 200 OK\n        V->>DB: Marca como entregado\n    else Webhook falla\n        W--\x3e>V: 500 Error\n        V->>V: Programa reintento\n        Note over V: Reintentos: 1min, 5min, 15min\n    end\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(59147).A+"",width:"5860",height:"7515"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-decisiones-de-validaci\xf3n",children:"\ud83c\udfaf Decisiones de Validaci\xf3n"}),"\n",(0,o.jsx)(n.h3,{id:"\xe1rbol-de-decisi\xf3n---validaci\xf3n-de-documento",children:"\xc1rbol de Decisi\xf3n - Validaci\xf3n de Documento"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    Start([Documento recibido]) --\x3e OCR{OCR exitoso?}\n\n    OCR --\x3e|No| Fail1[\u274c OCR fallido]\n    OCR --\x3e|S\xed| Quality{Calidad imagen OK?}\n\n    Quality --\x3e|No| Fail2[\u274c Imagen borrosa/oscura]\n    Quality --\x3e|S\xed| Extract[Extrae datos]\n\n    Extract --\x3e Official{Consulta oficial OK?}\n    Official --\x3e|No| Fail3[\u274c Error en consulta]\n    Official --\x3e|S\xed| Match{Matching &gt;90%?}\n\n    Match --\x3e|No| Review[\u26a0\ufe0f Requiere revisi\xf3n manual]\n    Match --\x3e|S\xed| Expiry{Documento vigente?}\n\n    Expiry --\x3e|No| Fail4[\u274c Documento vencido]\n    Expiry --\x3e|S\xed| Success[\u2705 Documento validado]\n\n    style Fail1 fill:#ffcccc\n    style Fail2 fill:#ffcccc\n    style Fail3 fill:#ffcccc\n    style Fail4 fill:#ffcccc\n    style Review fill:#fff4cc\n    style Success fill:#ccffcc\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(33601).A+"",width:"4266",height:"7610"})}),"\n",(0,o.jsx)(n.h3,{id:"\xe1rbol-de-decisi\xf3n---validaci\xf3n-biom\xe9trica",children:"\xc1rbol de Decisi\xf3n - Validaci\xf3n Biom\xe9trica"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    Start([Selfie recibida]) --\x3e Liveness{Liveness score &gt;0.6?}\n\n    Liveness --\x3e|No| Fail1[\u274c Liveness fallido<br/>Posible foto/video]\n    Liveness --\x3e|S\xed| Search{B\xfasqueda 1:N}\n\n    Search --\x3e Found{Usuario encontrado?}\n    Found --\x3e|No| Fail2[\u274c Usuario no registrado]\n    Found --\x3e|S\xed| Similarity{Similitud &gt;85%?}\n\n    Similarity --\x3e|No| Fail3[\u274c Similitud baja]\n    Similarity --\x3e|S\xed| Quality{Calidad imagen OK?}\n\n    Quality --\x3e|No| Retry[\u26a0\ufe0f Intente de nuevo]\n    Quality --\x3e|S\xed| Permissions{Tiene permisos?}\n\n    Permissions --\x3e|No| Fail4[\u274c Sin permisos]\n    Permissions --\x3e|S\xed| Success[\u2705 Acceso autorizado]\n\n    style Fail1 fill:#ffcccc\n    style Fail2 fill:#ffcccc\n    style Fail3 fill:#ffcccc\n    style Fail4 fill:#ffcccc\n    style Retry fill:#fff4cc\n    style Success fill:#ccffcc\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"alt text",src:a(19271).A+"",width:"4189",height:"8305"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-m\xe9tricas-y-monitoreo",children:"\ud83d\udcc8 M\xe9tricas y Monitoreo"}),"\n",(0,o.jsx)(n.h3,{id:"dashboard-de-m\xe9tricas",children:"Dashboard de M\xe9tricas"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:'graph TB\n    subgraph "M\xe9tricas de Rendimiento"\n        M1[Tiempo de Respuesta<br/>&lt;2 segundos]\n        M2[Disponibilidad<br/>99.9%]\n        M3[Tasa de \xc9xito<br/>>95%]\n    end\n\n    subgraph "M\xe9tricas de Uso"\n        U1[Validaciones/d\xeda]\n        U2[Usuarios activos]\n        U3[Picos de uso]\n    end\n\n    subgraph "M\xe9tricas de Calidad"\n        Q1[Precisi\xf3n facial<br/>>99%]\n        Q2[Liveness detection<br/>>95%]\n        Q3[OCR accuracy<br/>>95%]\n    end\n\n    subgraph "Alertas"\n        A1[Tasa de error &gt;1%]\n        A2[Tiempo respuesta >3s]\n        A3[Disponibilidad &lt;99%]\n    end\n\n    M1 --\x3e Dashboard[Dashboard COMPENSAR]\n    M2 --\x3e Dashboard\n    M3 --\x3e Dashboard\n    U1 --\x3e Dashboard\n    U2 --\x3e Dashboard\n    U3 --\x3e Dashboard\n    Q1 --\x3e Dashboard\n    Q2 --\x3e Dashboard\n    Q3 --\x3e Dashboard\n\n    Dashboard --\x3e A1\n    Dashboard --\x3e A2\n    Dashboard --\x3e A3\n\n    style Dashboard fill:#e1f5ff\n    style A1 fill:#ffcccc\n    style A2 fill:#ffcccc\n    style A3 fill:#ffcccc\n'})}),"\n",(0,o.jsxs)(n.p,{children:['graph TB\nsubgraph "M\xe9tricas de Rendimiento"\nM1[Tiempo de Respuesta',(0,o.jsx)("br",{}),"<2 segundos]\nM2[Disponibilidad",(0,o.jsx)("br",{}),"99.9%]\nM3[Tasa de \xc9xito",(0,o.jsx)("br",{}),">95%]\nend"]}),"\n",(0,o.jsx)(n.p,{children:'subgraph "M\xe9tricas de Uso"\nU1[Validaciones/d\xeda]\nU2[Usuarios activos]\nU3[Picos de uso]\nend'}),"\n",(0,o.jsxs)(n.p,{children:['subgraph "M\xe9tricas de Calidad"\nQ1[Precisi\xf3n facial',(0,o.jsx)("br",{}),">99%]\nQ2[Liveness detection",(0,o.jsx)("br",{}),">95%]\nQ3[OCR accuracy",(0,o.jsx)("br",{}),">95%]\nend"]}),"\n",(0,o.jsx)(n.p,{children:'subgraph "Alertas"\nA1[Tasa de error >1%]\nA2[Tiempo respuesta >3s]\nA3[Disponibilidad <99%]\nend'}),"\n",(0,o.jsx)(n.p,{children:"M1 --\x3e Dashboard[Dashboard COMPENSAR]\nM2 --\x3e Dashboard\nM3 --\x3e Dashboard\nU1 --\x3e Dashboard\nU2 --\x3e Dashboard\nU3 --\x3e Dashboard\nQ1 --\x3e Dashboard\nQ2 --\x3e Dashboard\nQ3 --\x3e Dashboard"}),"\n",(0,o.jsx)(n.p,{children:"Dashboard --\x3e A1\nDashboard --\x3e A2\nDashboard --\x3e A3"}),"\n",(0,o.jsx)(n.p,{children:"style Dashboard fill:#e1f5ff\nstyle A1 fill:#ffcccc\nstyle A2 fill:#ffcccc\nstyle A3 fill:#ffcccc"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"-plan-de-implementaci\xf3n",children:"\ud83d\udd04 Plan de Implementaci\xf3n"}),"\n",(0,o.jsx)(n.h3,{id:"timeline-de-12-semanas",children:"Timeline de 12 Semanas"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mermaid",children:"gantt\n    title Plan de Implementaci\xf3n Verifik para COMPENSAR\n    dateFormat YYYY-MM-DD\n    section Fase 1: Preparaci\xf3n\n    Configuraci\xf3n ambiente     :2025-01-06, 1w\n    Capacitaci\xf3n t\xe9cnica      :2025-01-06, 1w\n    Integraci\xf3n inicial       :2025-01-13, 1w\n\n    section Fase 2: Pruebas\n    Validaci\xf3n documentos     :2025-01-20, 2w\n    Biometr\xeda y liveness      :2025-02-03, 2w\n\n    section Fase 3: Integraci\xf3n\n    Integraci\xf3n sistemas      :2025-02-17, 1w\n    Pruebas de carga         :2025-02-24, 1w\n\n    section Fase 4: Piloto\n    Gimnasio piloto          :2025-03-03, 2w\n    Validaci\xf3n cr\xe9ditos      :2025-03-17, 2w\n\n    section Fase 5: Producci\xf3n\n    An\xe1lisis resultados      :2025-03-31, 1w\n    Go-live producci\xf3n       :2025-04-07, 1w\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.em,{children:"Diagramas preparados por Verifik - Diciembre 2025"}),(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)(n.em,{children:"Versi\xf3n 1.0"})]})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(r,{...e})}):r(e)}},5060(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-185511-5e23e38b8abc0b51383f245847e36fed.png"},19271(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-185808-0919faa739c496b6be2d8a94b172b106.png"},20220(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-185623-b195bf9159e057b1ad893a4fccb7914b.png"},21386(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-184042-5ceb23549db6414f1749891e516245b6.png"},26072(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-184141-794a1e7c5affe1349c41283ad0daace9.png"},28453(e,n,a){a.d(n,{R:()=>c,x:()=>t});var i=a(96540);const o={},s=i.createContext(o);function c(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),i.createElement(s.Provider,{value:n},e.children)}},33601(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-185745-349590d5898f60e5d862f9974529d8fe.png"},37050(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-185438-5c2e407c5e809a72d3f2d91e1eb42ba5.png"},40904(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-184314-c2c6b4fad45e7ebdaa7c5a0a7fda1d36.png"},56213(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/image-2-76a7670c7cf6e6b7effaff7d16aaf9c8.png"},59147(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-185710-ebfdab654f2cc11fc08b98a4015572fb.png"},69984(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/image-55688f10c078cae056ada2e5c1ccfe92.png"},70764(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/image-3-5bf9a1f0d1d8e0bb9fb99ea044ea762a.png"},78865(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-185547-ccca6dc28d8785a6ae240073eec483cc.png"},84648(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-185645-2ef68dc6af19141a2d5bbb48bcd5931d.png"},88862(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/image-1-daeb02e87028e180ce323bf06b788f3d.png"},91735(e,n,a){a.d(n,{A:()=>i});const i=a.p+"assets/images/Alice and Bob Communication-2025-12-17-183936-5d3a51c99a653e15297c8c57e61507a1.png"}}]);