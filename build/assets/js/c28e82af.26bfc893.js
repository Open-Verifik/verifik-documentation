"use strict";(globalThis.webpackChunkverifik_documentation=globalThis.webpackChunkverifik_documentation||[]).push([[26930],{28453(e,o,n){n.d(o,{R:()=>t,x:()=>l});var r=n(96540);const s={},i=r.createContext(s);function t(e){const o=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(i.Provider,{value:o},e.children)}},58431(e,o,n){n.r(o),n.d(o,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"resources/webhooks/webhook-integration","title":"Webhook Integration","description":"Guide for setting up webhooks to receive events from Verifik","source":"@site/docs/resources/webhooks/webhook-integration.mdx","sourceDirName":"resources/webhooks","slug":"/resources/webhook-integration","permalink":"/resources/webhook-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/Open-Verifik/verifik-documentation/tree/main/docs/resources/webhooks/webhook-integration.mdx","tags":[],"version":"current","frontMatter":{"id":"webhook-integration","title":"Webhook Integration","description":"Guide for setting up webhooks to receive events from Verifik","slug":"/resources/webhook-integration"},"sidebar":"tutorialSidebar","previous":{"title":"Webhooks","permalink":"/resources/webhooks"},"next":{"title":"The Webhook Object","permalink":"/resources/the-webhook-object"}}');var s=n(74848),i=n(28453);const t={id:"webhook-integration",title:"Webhook Integration",description:"Guide for setting up webhooks to receive events from Verifik",slug:"/resources/webhook-integration"},l=void 0,c={},h=[{value:"Overview",id:"overview",level:3},{value:"Webhook Setup Guide",id:"webhook-setup-guide",level:3},{value:"1. Prerequisites",id:"1-prerequisites",level:4},{value:"2. Install Required Packages",id:"2-install-required-packages",level:4},{value:"3. Create the Webhook Server",id:"3-create-the-webhook-server",level:4},{value:"4. Run the Webhook Server",id:"4-run-the-webhook-server",level:4},{value:"5. Expose Your Webhook Server",id:"5-expose-your-webhook-server",level:4},{value:"6. Configure Webhook URL with Verifik",id:"6-configure-webhook-url-with-verifik",level:4},{value:"7. Testing Webhooks",id:"7-testing-webhooks",level:4},{value:"8. Security Considerations",id:"8-security-considerations",level:4},{value:"Conclusion",id:"conclusion",level:4},{value:"Now we are ready to create the webhook object in Verifik",id:"now-we-are-ready-to-create-the-webhook-object-in-verifik",level:3}];function a(e){const o={a:"a",code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h3,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(o.p,{children:"This guide explains how to set up a simple webhook using Node.js to receive events from Verifik in real-time."}),"\n",(0,s.jsx)(o.h3,{id:"webhook-setup-guide",children:"Webhook Setup Guide"}),"\n",(0,s.jsx)(o.h4,{id:"1-prerequisites",children:"1. Prerequisites"}),"\n",(0,s.jsx)(o.p,{children:"Before starting, ensure you have:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Node.js"})," installed on your system."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"npm"})," (Node Package Manager) installed (usually comes with Node.js)."]}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"2-install-required-packages",children:"2. Install Required Packages"}),"\n",(0,s.jsx)(o.p,{children:"To get started, initialize a Node.js project and install the necessary dependencies."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"mkdir webhook-example\ncd webhook-example\nnpm init -y\nnpm install express body-parser\n"})}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"express"}),": A web framework for Node.js to handle HTTP requests."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"body-parser"}),": Middleware to parse incoming request bodies (especially JSON)."]}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"3-create-the-webhook-server",children:"3. Create the Webhook Server"}),"\n",(0,s.jsxs)(o.p,{children:["Create a file named ",(0,s.jsx)(o.code,{children:"webhook.js"})," and add the following code:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-javascript",children:"const express = require('express');\nconst bodyParser = require('body-parser');\n\nconst app = express();\nconst PORT = 3000;\n\n// Middleware to parse JSON requests\napp.use(bodyParser.json());\n\n// Endpoint to receive webhook events\napp.post('/webhook', (req, res) => {\n  const event = req.body;\n\n  // Log the received event\n  console.log('Received event:', event);\n\n  // Respond with a success message\n  res.status(200).send('Webhook received successfully');\n});\n\n// Start the server\napp.listen(PORT, () => {\n  console.log(`Webhook server is running on port ${PORT}`);\n});\n"})}),"\n",(0,s.jsx)(o.h4,{id:"4-run-the-webhook-server",children:"4. Run the Webhook Server"}),"\n",(0,s.jsx)(o.p,{children:"To start the webhook server, run the following command:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"node webhook.js\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Your webhook server will be running locally on ",(0,s.jsx)(o.code,{children:"http://localhost:3000/webhook"}),"."]}),"\n",(0,s.jsx)(o.h4,{id:"5-expose-your-webhook-server",children:"5. Expose Your Webhook Server"}),"\n",(0,s.jsxs)(o.p,{children:["If you want Verifik to send events to your webhook, you need to expose it to the internet. This can be done using tools like ",(0,s.jsx)(o.strong,{children:"ngrok"}),". Install ngrok if you haven't already:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"npm install -g ngrok\n"})}),"\n",(0,s.jsx)(o.p,{children:"Then, expose your local server:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"ngrok http 3000\n"})}),"\n",(0,s.jsxs)(o.p,{children:["You will receive a public URL, such as ",(0,s.jsx)(o.code,{children:"https://<random-id>.ngrok.io"}),", which can be used by Verifik to send webhook events."]}),"\n",(0,s.jsx)(o.h4,{id:"6-configure-webhook-url-with-verifik",children:"6. Configure Webhook URL with Verifik"}),"\n",(0,s.jsx)(o.p,{children:"Once your webhook is publicly accessible, you can provide the URL to Verifik. Here's how to configure your webhook:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Set Your Webhook URL"}),": Provide the public URL from ngrok to Verifik's integration team.","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Example: ",(0,s.jsx)(o.code,{children:"https://<random-id>.ngrok.io/webhook"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Event Subscription"}),": Indicate which events you'd like to receive from Verifik (e.g., user sign-up, transaction completed)."]}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"7-testing-webhooks",children:"7. Testing Webhooks"}),"\n",(0,s.jsxs)(o.p,{children:["You can test your webhook locally by sending a ",(0,s.jsx)(o.code,{children:"POST"})," request using a tool like ",(0,s.jsx)(o.code,{children:"curl"})," or Postman."]}),"\n",(0,s.jsxs)(o.p,{children:["Example with ",(0,s.jsx)(o.code,{children:"curl"}),":"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:'curl -X POST http://localhost:3000/webhook -H "Content-Type: application/json" -d \'{"event":"user_signup", "data": {"user_id": "12345"}}\'\n'})}),"\n",(0,s.jsx)(o.p,{children:"This should print the event to your console and return a success message."}),"\n",(0,s.jsx)(o.h4,{id:"8-security-considerations",children:"8. Security Considerations"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Signature Verification"}),": For production use, it's important to verify the signature of incoming webhook requests to ensure they originate from Verifik. This can be done using shared secrets or API keys, which Verifik will provide."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"HTTPS"}),": Make sure your webhook URL uses HTTPS when in production."]}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsxs)(o.p,{children:["You've now set up a basic webhook in Node.js that can receive events from ",(0,s.jsx)(o.strong,{children:"Verifik"}),". You can use this webhook for a variety of purposes such as listening to user signups, transactions, or other real-time events."]}),"\n",(0,s.jsx)(o.hr,{}),"\n",(0,s.jsx)(o.p,{children:"Let us know if you need any additional details from our side and we are happy to help."}),"\n",(0,s.jsx)(o.h3,{id:"now-we-are-ready-to-create-the-webhook-object-in-verifik",children:"Now we are ready to create the webhook object in Verifik"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.a,{href:"/resources/create-a-webhook",children:"Create a Webhook"})})]})}function d(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);