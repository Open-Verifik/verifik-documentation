"use strict";(self.webpackChunkverifik_documentation=self.webpackChunkverifik_documentation||[]).push([[51937],{11470:(e,n,a)=>{a.d(n,{A:()=>E});var r=a(96540),i=a(34164),t=a(17559),o=a(23104),s=a(56347),l=a(205),d=a(57485),c=a(31682),u=a(70679);function p(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(e){const{values:n,children:a}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return p(e).map(({props:{value:e,label:n,attributes:a,default:r}})=>({value:e,label:n,attributes:a,default:r}))}(a);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,a])}function j({value:e,tabValues:n}){return n.some(n=>n.value===e)}function x({queryString:e=!1,groupId:n}){const a=(0,s.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,d.aZ)(i),(0,r.useCallback)(e=>{if(!i)return;const n=new URLSearchParams(a.location.search);n.set(i,e),a.replace({...a.location,search:n.toString()})},[i,a])]}function m(e){const{defaultValue:n,queryString:a=!1,groupId:i}=e,t=h(e),[o,s]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!j({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const a=n.find(e=>e.default)??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:t})),[d,c]=x({queryString:a,groupId:i}),[p,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[a,i]=(0,u.Dv)(n);return[a,(0,r.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:i}),v=(()=>{const e=d??p;return j({value:e,tabValues:t})?e:null})();(0,l.A)(()=>{v&&s(v)},[v]);return{selectedValue:o,selectValue:(0,r.useCallback)(e=>{if(!j({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);s(e),c(e),m(e)},[c,m,t]),tabValues:t}}var v=a(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=a(74848);function b({className:e,block:n,selectedValue:a,selectValue:r,tabValues:t}){const s=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),d=e=>{const n=e.currentTarget,i=s.indexOf(n),o=t[i].value;o!==a&&(l(n),r(o))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=s.indexOf(e.currentTarget)+1;n=s[a]??s[0];break}case"ArrowLeft":{const a=s.indexOf(e.currentTarget)-1;n=s[a]??s[s.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:t.map(({value:e,label:n,attributes:r})=>(0,g.jsx)("li",{role:"tab",tabIndex:a===e?0:-1,"aria-selected":a===e,ref:e=>{s.push(e)},onKeyDown:c,onClick:d,...r,className:(0,i.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":a===e}),children:n??e},e))})}function y({lazy:e,children:n,selectedValue:a}){const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=t.find(e=>e.props.value===a);return e?(0,r.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:t.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a}))})}function T(e){const n=m(e);return(0,g.jsxs)("div",{className:(0,i.A)(t.G.tabs.container,"tabs-container",f.tabList),children:[(0,g.jsx)(b,{...n,...e}),(0,g.jsx)(y,{...n,...e})]})}function E(e){const n=(0,v.A)();return(0,g.jsx)(T,{...e,children:p(e.children)},String(n))}},19365:(e,n,a)=>{a.d(n,{A:()=>o});a(96540);var r=a(34164);const i={tabItem:"tabItem_Ymn6"};var t=a(74848);function o({children:e,hidden:n,className:a}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,r.A)(i.tabItem,a),hidden:n,children:e})}},26716:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"resources/registros-aplicacion/validar-una-validacion-telefono-registro-aplicacion","title":"Validar una Validaci\xf3n de Tel\xe9fono de Registro de Aplicaci\xf3n","description":"Valida un OTP enviado al n\xfamero de tel\xe9fono de un usuario durante el proceso de registro de aplicaci\xf3n","source":"@site/docs-es/resources/registros-aplicacion/validar-una-validacion-telefono-registro-aplicacion.mdx","sourceDirName":"resources/registros-aplicacion","slug":"/resources/registros-aplicacion/validar-una-validacion-telefono-registro-aplicacion","permalink":"/docs-es/resources/registros-aplicacion/validar-una-validacion-telefono-registro-aplicacion","draft":false,"unlisted":false,"editUrl":"https://github.com/Open-Verifik/verifik-documentation/tree/main/docs-es/resources/registros-aplicacion/validar-una-validacion-telefono-registro-aplicacion.mdx","tags":[],"version":"current","frontMatter":{"id":"validar-una-validacion-telefono-registro-aplicacion","title":"Validar una Validaci\xf3n de Tel\xe9fono de Registro de Aplicaci\xf3n","description":"Valida un OTP enviado al n\xfamero de tel\xe9fono de un usuario durante el proceso de registro de aplicaci\xf3n"},"sidebar":"tutorialSidebar","previous":{"title":"Validar una Validaci\xf3n de Email de Registro de Aplicaci\xf3n","permalink":"/docs-es/resources/registros-aplicacion/validar-una-validacion-email-registro-aplicacion"},"next":{"title":"Sincronizar Estado de Registro de Aplicaci\xf3n","permalink":"/docs-es/resources/registros-aplicacion/sincronizar-estado-registro-aplicacion"}}');var i=a(74848),t=a(28453),o=a(11470),s=a(19365);const l={id:"validar-una-validacion-telefono-registro-aplicacion",title:"Validar una Validaci\xf3n de Tel\xe9fono de Registro de Aplicaci\xf3n",description:"Valida un OTP enviado al n\xfamero de tel\xe9fono de un usuario durante el proceso de registro de aplicaci\xf3n"},d=void 0,c={},u=[{value:"Endpoint",id:"endpoint",level:3},{value:"Headers",id:"headers",level:3},{value:"Params",id:"params",level:3},{value:"Request",id:"request",level:3},{value:"Response",id:"response",level:3},{value:"Notes",id:"notes",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"endpoint",children:"Endpoint"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PUT https://api.verifik.co/v2/phone-validations\n"})}),"\n",(0,i.jsx)(n.p,{children:"Este endpoint valida una contrase\xf1a de un solo uso (OTP) enviada al n\xfamero de tel\xe9fono de un usuario durante el proceso de registro de aplicaci\xf3n (incorporaci\xf3n). Asegura que el OTP proporcionado por el usuario sea correcto y actualiza el estado de verificaci\xf3n en consecuencia. Esta ruta est\xe1 espec\xedficamente dise\xf1ada para usuarios que est\xe1n en medio de un flujo de registro de aplicaci\xf3n."}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["El Token JWT que debes usar al validar ",(0,i.jsx)(n.code,{children:"Validaciones de Tel\xe9fono de Registro de Aplicaci\xf3n"})," se proporciona desde el ",(0,i.jsx)(n.code,{children:"Registro de Aplicaci\xf3n"})," en creaci\xf3n. Debes usar el token devuelto al crear un ",(0,i.jsx)(n.a,{href:"/docs-es/resources/registros-aplicacion/crear-un-registro-aplicacion",children:"Registro de Aplicaci\xf3n"})," para autenticar esta solicitud."]})}),"\n",(0,i.jsx)(n.h3,{id:"headers",children:"Headers"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Content-Type"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"application/json"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Authorization"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Bearer <token>"})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"params",children:"Params"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"phone"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"El n\xfamero de tel\xe9fono que se us\xf3 para crear la validaci\xf3n de tel\xe9fono. Los espacios se eliminar\xe1n autom\xe1ticamente durante el procesamiento"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"countryCode"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsxs)(n.td,{children:["El c\xf3digo de pa\xeds del n\xfamero telef\xf3nico en formato ",(0,i.jsx)(n.code,{children:"+XXX"})," (ej: ",(0,i.jsx)(n.code,{children:"+507"})," para Panam\xe1, ",(0,i.jsx)(n.code,{children:"+1"})," para Estados Unidos). Debe coincidir con el formato ",(0,i.jsx)(n.code,{children:"+"})," seguido de 1 a 3 d\xedgitos"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"otp"})}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Yes"}),(0,i.jsx)(n.td,{children:"La contrase\xf1a de un solo uso (OTP) que se envi\xf3 al n\xfamero de tel\xe9fono del usuario"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"project"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"El identificador \xfanico del proyecto. Opcional, ayuda a reducir la validaci\xf3n"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"projectFlow"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"El identificador \xfanico del flujo de proyecto. Opcional, ayuda a reducir la validaci\xf3n"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"phoneGateway"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsxs)(n.td,{children:["El m\xe9todo de entrega usado: ",(0,i.jsx)(n.code,{children:"sms"}),", ",(0,i.jsx)(n.code,{children:"whatsapp"}),", o ",(0,i.jsx)(n.code,{children:"none"})]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"request",children:"Request"}),"\n",(0,i.jsxs)(o.A,{children:[(0,i.jsx)(s.A,{value:"node",label:"Node.js",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'const fetch = require("node-fetch");\n\nasync function run() {\n\tconst res = await fetch("https://api.verifik.co/v2/phone-validations", {\n\t\tmethod: "PUT",\n\t\theaders: {\n\t\t\t"Content-Type": "application/json",\n\t\t\tAuthorization: `Bearer ${process.env.VERIFIK_TOKEN}`,\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tphone: "62647737",\n\t\t\tcountryCode: "+507",\n\t\t\totp: 123456,\n\t\t}),\n\t});\n\tconsole.log(await res.json());\n}\n\nrun();\n'})})}),(0,i.jsx)(s.A,{value:"php",label:"PHP",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:'<?php\n$ch = curl_init("https://api.verifik.co/v2/phone-validations");\ncurl_setopt($ch, CURLOPT_HTTPHEADER, [\n    "Content-Type: application/json",\n    "Authorization: Bearer " . getenv("VERIFIK_TOKEN")\n]);\n$body = json_encode([\n    "phone" => "62647737",\n    "countryCode" => "+507",\n    "otp" => 123456\n]);\ncurl_setopt($ch, CURLOPT_CUSTOMREQUEST, "PUT");\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $body);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n$response = curl_exec($ch);\ncurl_close($ch);\necho $response;\n'})})}),(0,i.jsx)(s.A,{value:"python",label:"Python",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import os, requests\n\nurl = "https://api.verifik.co/v2/phone-validations"\nheaders = {\n    "Content-Type": "application/json",\n    "Authorization": f"Bearer {os.getenv(\'VERIFIK_TOKEN\')}"\n}\npayload = {\n    "phone": "62647737",\n    "countryCode": "+507",\n    "otp": 123456\n}\nr = requests.put(url, json=payload, headers=headers)\nprint(r.json())\n'})})}),(0,i.jsx)(s.A,{value:"go",label:"Go",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "bytes"\n    "encoding/json"\n    "fmt"\n    "net/http"\n    "os"\n)\n\nfunc main() {\n    url := "https://api.verifik.co/v2/phone-validations"\n    payload := map[string]interface{}{\n        "phone": "62647737",\n        "countryCode": "+507",\n        "otp": 123456,\n    }\n    b, _ := json.Marshal(payload)\n    req, _ := http.NewRequest("PUT", url, bytes.NewBuffer(b))\n    req.Header.Set("Content-Type", "application/json")\n    req.Header.Set("Authorization", "Bearer "+os.Getenv("VERIFIK_TOKEN"))\n    resp, _ := http.DefaultClient.Do(req)\n    defer resp.Body.Close()\n    var out map[string]interface{}\n    json.NewDecoder(resp.Body).Decode(&out)\n    fmt.Println(out)\n}\n'})})})]}),"\n",(0,i.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,i.jsxs)(o.A,{children:[(0,i.jsx)(s.A,{value:"200",label:"200",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n\t"data": {\n\t\t"_id": "674de8df21c72be3cc42b8a7",\n\t\t"status": "validated",\n\t\t"countryCode": "+507",\n\t\t"phone": "62647737",\n\t\t"type": "onboarding",\n\t\t"showFaceLivenessRecommendation": false\n\t}\n}\n'})})}),(0,i.jsx)(s.A,{value:"403",label:"403",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n\t"code": "otp_does_not_match",\n\t"message": "403:otp_does_not_match"\n}\n'})})}),(0,i.jsx)(s.A,{value:"404",label:"404",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n\t"code": "phone_validation_not_found",\n\t"message": "404:phone_validation_not_found"\n}\n'})})}),(0,i.jsx)(s.A,{value:"409",label:"409",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n\t"code": "MissingParameter",\n\t"message": "missing phone\\n. missing countryCode\\n. missing otp"\n}\n'})})}),(0,i.jsx)(s.A,{value:"409-countrycode",label:"409 (Formato de C\xf3digo de Pa\xeds Inv\xe1lido)",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n\t"code": "MissingParameter",\n\t"message": "Invalid countryCode format. CountryCode should be in the format + followed by 1 to 3 digits."\n}\n'})})}),(0,i.jsx)(s.A,{value:"412",label:"412",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n\t"code": "phoneValidation_has_expired",\n\t"message": "412:phoneValidation_has_expired"\n}\n'})})})]}),"\n",(0,i.jsx)(n.h3,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Flujo de Incorporaci\xf3n"}),": Este endpoint est\xe1 espec\xedficamente dise\xf1ado para usuarios en el proceso de registro de aplicaci\xf3n, donde la validaci\xf3n de tel\xe9fono es parte del viaje de incorporaci\xf3n."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Expiraci\xf3n de OTP"}),": Los OTPs tienen una vida \xfatil limitada (t\xedpicamente 10 minutos) y expirar\xe1n despu\xe9s del tiempo predefinido. Los OTPs expirados no pueden ser validados."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Actualizaciones de Estado"}),': La validaci\xf3n exitosa actualiza autom\xe1ticamente el estado de la validaci\xf3n de tel\xe9fono a "validated" y puede activar pasos adicionales de incorporaci\xf3n.']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Eventos de Webhook"}),": Los eventos de validaci\xf3n activan notificaciones de webhook para seguimiento y prop\xf3sitos de integraci\xf3n."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Vida Facial"}),": Algunos flujos de proyecto pueden recomendar verificaci\xf3n de vida facial despu\xe9s de la validaci\xf3n de tel\xe9fono como parte del proceso de incorporaci\xf3n."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Vinculaci\xf3n de Registro de Aplicaci\xf3n"}),": Cuando se valida a trav\xe9s de este endpoint, la validaci\xf3n de tel\xe9fono se vincula autom\xe1ticamente al registro de registro de aplicaci\xf3n del usuario."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Formato de N\xfamero de Tel\xe9fono"}),": Los n\xfameros de tel\xe9fono tienen espacios eliminados autom\xe1ticamente durante el procesamiento."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Formato de C\xf3digo de Pa\xeds"}),": El c\xf3digo de pa\xeds debe estar en formato ",(0,i.jsx)(n.code,{children:"+XXX"})," donde X son d\xedgitos (m\xe1ximo 1-3 d\xedgitos)."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>s});var r=a(96540);const i={},t=r.createContext(i);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);